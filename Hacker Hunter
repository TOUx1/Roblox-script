-- üåë DETECT HACKING v2.0 - DARK HUNTER EDITION üî∞ [PART 1/2]
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- ‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á
local SPEED_THRESHOLD = 22
local JUMP_HEIGHT_THRESHOLD = 50
local GROUND_DISTANCE_THRESHOLD = 10
local FLY_SECONDS_THRESHOLD = 4
local UPDATE_RATE = 0.1

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á GUI
local playerGui = LocalPlayer:WaitForChild("PlayerGui")
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DetectHackingGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Main Frame ‡∏™‡∏µ‡∏î‡∏≥-‡πÅ‡∏î‡∏á‡∏™‡∏∏‡∏î‡πÇ‡∏´‡∏î!
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.fromOffset(380, 450)
mainFrame.Position = UDim2.new(0.02, 0, 0.12, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(15, 5, 5)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
mainFrame.Active = true
mainFrame.Draggable = true

-- UICorner ‡πÇ‡∏Ñ‡πâ‡∏á‡∏°‡∏ô
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 12)
mainCorner.Parent = mainFrame

-- UIStroke ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏£‡∏≠‡∏ö‡∏Å‡∏£‡∏≠‡∏ö + Pulse Effect
local mainStroke = Instance.new("UIStroke")
mainStroke.Color = Color3.fromRGB(255, 0, 0)
mainStroke.Thickness = 3
mainStroke.Transparency = 0.3
mainStroke.Parent = mainFrame

-- Pulse Animation
local pulseTween = TweenService:Create(
    mainStroke,
    TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true),
    {Transparency = 0.7}
)
pulseTween:Play()

-- Background Gradient
local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(25, 0, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(10, 0, 0))
}
gradient.Rotation = 45
gradient.Parent = mainFrame

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Name = "TitleBar"
titleBar.Size = UDim2.new(1, 0, 0, 50)
titleBar.Position = UDim2.new(0, 0, 0, 0)
titleBar.BackgroundColor3 = Color3.fromRGB(40, 0, 0)
titleBar.BorderSizePixel = 0
titleBar.Parent = mainFrame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 12)
titleCorner.Parent = titleBar

local titleStroke = Instance.new("UIStroke")
titleStroke.Color = Color3.fromRGB(255, 50, 50)
titleStroke.Thickness = 2
titleStroke.Parent = titleBar

-- Title Text
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -100, 1, 0)
title.Position = UDim2.new(0, 15, 0, 0)
title.BackgroundTransparency = 1
title.Text = "üî∞ DETECT HACKING v2.0 üíÄ"
title.TextColor3 = Color3.fromRGB(255, 100, 100)
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = titleBar

-- Glow Effect ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Title
local titleGlow = Instance.new("UIStroke")
titleGlow.Color = Color3.fromRGB(255, 255, 0)
titleGlow.Thickness = 1
titleGlow.Transparency = 0.5
titleGlow.Parent = title
titleGlow.Enabled = false

titleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        titleGlow.Enabled = true
        TweenService:Create(titleGlow, TweenInfo.new(0.3), {Transparency = 0.2}):Play()
    end
end)

titleBar.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        TweenService:Create(titleGlow, TweenInfo.new(0.3), {Transparency = 0.5}):Play()
        wait(0.3)
        titleGlow.Enabled = false
    end
end)

-- Toggle Button
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0, 90, 0, 35)
toggleBtn.Position = UDim2.new(1, -100, 0, 8)
toggleBtn.Text = "‡∏ã‡πà‡∏≠‡∏ô üîí"
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 14
toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleBtn.BackgroundColor3 = Color3.fromRGB(80, 0, 0)
toggleBtn.BorderSizePixel = 0
toggleBtn.Parent = titleBar

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 8)
toggleCorner.Parent = toggleBtn

local toggleStroke = Instance.new("UIStroke")
toggleStroke.Color = Color3.fromRGB(255, 0, 0)
toggleStroke.Thickness = 2
toggleStroke.Parent = toggleBtn

toggleBtn.MouseEnter:Connect(function()
    TweenService:Create(toggleBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(120, 0, 0),
        Size = UDim2.new(0, 95, 0, 38)
    }):Play()
end)

toggleBtn.MouseLeave:Connect(function()
    TweenService:Create(toggleBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(80, 0, 0),
        Size = UDim2.new(0, 90, 0, 35)
    }):Play()
end)

-- Container ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö List
local listFrame = Instance.new("Frame")
listFrame.Size = UDim2.new(1, -20, 1, -120)
listFrame.Position = UDim2.new(0, 10, 0, 60)
listFrame.BackgroundTransparency = 1
listFrame.Parent = mainFrame

local uiList = Instance.new("UIListLayout")
uiList.Parent = listFrame
uiList.SortOrder = Enum.SortOrder.LayoutOrder
uiList.Padding = UDim.new(0, 8)

local scrollbar = Instance.new("ScrollingFrame")
scrollbar.Size = UDim2.new(1, 0, 1, 0)
scrollbar.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollbar.ScrollBarThickness = 6
scrollbar.ScrollBarImageColor3 = Color3.fromRGB(255, 0, 0)
scrollbar.BackgroundColor3 = Color3.fromRGB(25, 0, 0)
scrollbar.BorderSizePixel = 0
scrollbar.BackgroundTransparency = 0.8
scrollbar.Parent = listFrame

local scrollCorner = Instance.new("UICorner")
scrollCorner.CornerRadius = UDim.new(0, 8)
scrollCorner.Parent = scrollbar

-- Bottom Area
local bottom = Instance.new("Frame")
bottom.Size = UDim2.new(1, -20, 0, 55)
bottom.Position = UDim2.new(0, 10, 1, -70)
bottom.BackgroundColor3 = Color3.fromRGB(30, 0, 0)
bottom.BorderSizePixel = 0
bottom.Parent = mainFrame

local bottomCorner = Instance.new("UICorner")
bottomCorner.CornerRadius = UDim.new(0, 8)
bottomCorner.Parent = bottom

local bottomStroke = Instance.new("UIStroke")
bottomStroke.Color = Color3.fromRGB(200, 0, 0)
bottomStroke.Thickness = 2
bottomStroke.Parent = bottom

-- Info Label
local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(1, -110, 1, 0)
infoLabel.Position = UDim2.new(0, 10, 0, 0)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = "No suspicious players üîç"
infoLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextSize = 15
infoLabel.TextXAlignment = Enum.TextXAlignment.Left
infoLabel.TextYAlignment = Enum.TextYAlignment.Center
infoLabel.Parent = bottom

-- Look Button
local lookBtn = Instance.new("TextButton")
lookBtn.Size = UDim2.new(0, 100, 0, 40)
lookBtn.Position = UDim2.new(1, -110, 0, 8)
lookBtn.Text = "LOOK üëÅÔ∏è"
lookBtn.Font = Enum.Font.GothamBold
lookBtn.TextSize = 16
lookBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
lookBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
lookBtn.BorderSizePixel = 0
lookBtn.Parent = bottom

local lookCorner = Instance.new("UICorner")
lookCorner.CornerRadius = UDim.new(0, 8)
lookCorner.Parent = lookBtn

local lookStroke = Instance.new("UIStroke")
lookStroke.Color = Color3.fromRGB(255, 100, 100)
lookStroke.Thickness = 2
lookStroke.Parent = lookBtn

lookBtn.MouseEnter:Connect(function()
    TweenService:Create(lookBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(150, 0, 0),
        Size = UDim2.new(0, 105, 0, 42)
    }):Play()
    TweenService:Create(lookStroke, TweenInfo.new(0.2), {Thickness = 3}):Play()
end)

lookBtn.MouseLeave:Connect(function()
    TweenService:Create(lookBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(100, 0, 0),
        Size = UDim2.new(0, 100, 0, 40)
    }):Play()
    TweenService:Create(lookStroke, TweenInfo.new(0.2), {Thickness = 2}):Play()
end)

-- State Variables
local suspicious = {}
local selectedPlayer = nil
local cameraFollowing = false
local originalCameraSubject = workspace.CurrentCamera and workspace.CurrentCamera.CameraSubject

-- [‡∏à‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1 - ‡∏£‡∏≠‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2]
print("üìú PART 1/2 ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‡∏£‡∏≠ PART 2...")
-- üåë DETECT HACKING v2.0 - DARK HUNTER EDITION üî∞ [PART 2/2]
-- Particle Effect ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Suspicious Players
local function createWarningEffect(frame)
    local particles = Instance.new("Frame")
    particles.Size = UDim2.new(1, 20, 1, 20)
    particles.Position = UDim2.new(0, -10, 0, -10)
    particles.BackgroundTransparency = 1
    particles.Parent = frame
    
    local particle1 = Instance.new("Frame")
    particle1.Size = UDim2.new(0, 4, 0, 4)
    particle1.Position = UDim2.new(0, 0, 0.5, 0)
    particle1.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    particle1.BorderSizePixel = 0
    particle1.Parent = particles
    
    local particle2 = Instance.new("Frame")
    particle2.Size = UDim2.new(0, 4, 0, 4)
    particle2.Position = UDim2.new(1, -4, 0.5, 0)
    particle2.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
    particle2.BorderSizePixel = 0
    particle2.Parent = particles
    
    spawn(function()
        while particles.Parent do
            TweenService:Create(particle1, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {
                Position = UDim2.new(math.random(), 0, math.random(), 0),
                BackgroundTransparency = math.random(0.3, 0.7)
            }):Play()
            TweenService:Create(particle2, TweenInfo.new(0.7, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
                Position = UDim2.new(math.random(), 0, math.random(), 0),
                BackgroundTransparency = math.random(0.4, 0.8)
            }):Play()
            wait(0.3)
        end
    end)
end

-- Create Entry Function
local function createEntry(plr)
    local f = Instance.new("Frame")
    f.Size = UDim2.new(1, -10, 0, 60)
    f.BackgroundColor3 = Color3.fromRGB(25, 5, 5)
    f.BorderSizePixel = 0
    f.Parent = scrollbar

    local fCorner = Instance.new("UICorner")
    fCorner.CornerRadius = UDim.new(0, 8)
    fCorner.Parent = f

    local fStroke = Instance.new("UIStroke")
    fStroke.Color = Color3.fromRGB(100, 0, 0)
    fStroke.Thickness = 1
    fStroke.Parent = f

    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(0.55, -10, 0.5, 0)
    nameLabel.Position = UDim2.new(0, 15, 0, 5)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextSize = 18
    nameLabel.TextColor3 = Color3.fromRGB(255, 150, 150)
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    nameLabel.Parent = f

    local tagLabel = Instance.new("TextLabel")
    tagLabel.Size = UDim2.new(0.4, -10, 0.5, 0)
    tagLabel.Position = UDim2.new(0.55, 0, 0, 5)
    tagLabel.BackgroundTransparency = 1
    tagLabel.Font = Enum.Font.GothamBold
    tagLabel.TextSize = 14
    tagLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
    tagLabel.TextXAlignment = Enum.TextXAlignment.Right
    tagLabel.Parent = f

    local reasons = Instance.new("TextLabel")
    reasons.Size = UDim2.new(1, -20, 0.5, 0)
    reasons.Position = UDim2.new(0, 15, 0.5, 0)
    reasons.BackgroundTransparency = 1
    reasons.Font = Enum.Font.Gotham
    reasons.TextSize = 12
    reasons.TextColor3 = Color3.fromRGB(255, 100, 100)
    reasons.TextXAlignment = Enum.TextXAlignment.Left
    reasons.TextYAlignment = Enum.TextYAlignment.Top
    reasons.Parent = f

    local selectBtn = Instance.new("TextButton")
    selectBtn.Size = UDim2.new(0, 60, 0, 30)
    selectBtn.Position = UDim2.new(1, -70, 0.25, 0)
    selectBtn.Text = "SELECT ‚ö°"
    selectBtn.Font = Enum.Font.GothamBold
    selectBtn.TextSize = 11
    selectBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    selectBtn.BackgroundColor3 = Color3.fromRGB(80, 0, 0)
    selectBtn.BorderSizePixel = 0
    selectBtn.Parent = f

    local selectCorner = Instance.new("UICorner")
    selectCorner.CornerRadius = UDim.new(0, 6)
    selectCorner.Parent = selectBtn

    local selectStroke = Instance.new("UIStroke")
    selectStroke.Color = Color3.fromRGB(255, 200, 0)
    selectStroke.Thickness = 1.5
    selectStroke.Parent = selectBtn

    selectBtn.MouseEnter:Connect(function()
        TweenService:Create(selectBtn, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(120, 0, 0),
            Size = UDim2.new(0, 65, 0, 32)
        }):Play()
        TweenService:Create(selectStroke, TweenInfo.new(0.2), {Thickness = 2}):Play()
    end)

    selectBtn.MouseLeave:Connect(function()
        TweenService:Create(selectBtn, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(80, 0, 0),
            Size = UDim2.new(0, 60, 0, 30)
        }):Play()
        TweenService:Create(selectStroke, TweenInfo.new(0.2), {Thickness = 1.5}):Play()
    end)

    selectBtn.MouseButton1Click:Connect(function()
        selectedPlayer = plr
        infoLabel.Text = ("üî• Selected: %s (HACKER DETECTED!)"):format(plr.Name)
        
        for _, v in pairs(scrollbar:GetChildren()) do
            if v:IsA("Frame") then
                TweenService:Create(v, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(25, 5, 5)}):Play()
                if v:FindFirstChild("UIStroke") then
                    v:FindFirstChild("UIStroke").Color = Color3.fromRGB(100, 0, 0)
                end
            end
        end
        
        TweenService:Create(f, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(60, 0, 0)}):Play()
        fStroke.Color = Color3.fromRGB(255, 255, 0)
        
        for i = 1, 5 do
            TweenService:Create(f, TweenInfo.new(0.05), {Position = UDim2.new(0, math.random(-3, 3), 0, math.random(-1, 1))}):Play()
            TweenService:Create(f, TweenInfo.new(0.05), {Position = UDim2.new(0, 0, 0, 0)}):Play()
        end
    end)

    createWarningEffect(f)

    return {
        frame = f,
        nameLabel = nameLabel,
        tagLabel = tagLabel,
        reasonsLabel = reasons,
        selectBtn = selectBtn,
    }
end

-- Helper Functions
local function refreshCanvas()
    local total = 0
    for _, v in pairs(scrollbar:GetChildren()) do
        if v:IsA("Frame") then
            total = total + v.AbsoluteSize.Y + uiList.Padding.Offset
        end
    end
    scrollbar.CanvasSize = UDim2.new(0, 0, 0, total)
end

local function removeEntry(plr)
    if suspicious[plr] and suspicious[plr].gui then
        TweenService:Create(suspicious[plr].gui.frame, TweenInfo.new(0.5), {
            BackgroundTransparency = 1,
            Size = UDim2.new(1, 0, 0, 0)
        }):Play()
        game:GetService("Debris"):AddItem(suspicious[plr].gui.frame, 0.5)
    end
    suspicious[plr] = nil
    if selectedPlayer == plr then
        selectedPlayer = nil
        TweenService:Create(infoLabel, TweenInfo.new(0.3), {TextColor3 = Color3.fromRGB(200, 200, 200)}):Play()
        infoLabel.Text = "No suspicious players üîç"
    end
    refreshCanvas()
end

local function setSuspicion(plr, reason)
    local rec = suspicious[plr]
    if not rec then
        rec = {
            reasons = {},
            gui = createEntry(plr),
            timers = { groundStart = nil, inAir = false, jumpStartY = nil, maxY = nil },
        }
        suspicious[plr] = rec
    end
    rec.reasons[reason] = true

    local displayName = plr.DisplayName or plr.Name
    rec.gui.nameLabel.Text = "üíÄ " .. displayName .. "  (" .. plr.Name .. ")"
    
    local reasonText = {}
    for k, _ in pairs(rec.reasons) do
        table.insert(reasonText, k)
    end
    rec.gui.reasonsLabel.Text = "‚ö†Ô∏è  " .. table.concat(reasonText, "  |  ")
    rec.gui.tagLabel.Text = (#reasonText > 0) and ("üö® ALERTS: " .. #reasonText) or ""
    
    local f = rec.gui.frame
    TweenService:Create(f, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80, 0, 0)}):Play()
    wait(0.2)
    TweenService:Create(f, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(25, 5, 5)}):Play()
    
    refreshCanvas()
end

local function clearReason(plr, reason)
    local rec = suspicious[plr]
    if not rec then return end
    rec.reasons[reason] = nil
    
    local any = false
    for k, _ in pairs(rec.reasons) do 
        any = true 
        break 
    end
    
    if not any then
        removeEntry(plr)
    else
        local reasonText = {}
        for k, _ in pairs(rec.reasons) do 
            table.insert(reasonText, k) 
        end
        rec.gui.reasonsLabel.Text = "‚ö†Ô∏è  " .. table.concat(reasonText, "  |  ")
        rec.gui.tagLabel.Text = ("üö® ALERTS: %d"):format(#reasonText)
    end
end

-- Distance To Ground
local function distanceToGround(rootPart)
    local origin = rootPart.Position
    local params = RaycastParams.new()
    params.FilterDescendantsInstances = {rootPart.Parent}
    params.FilterType = Enum.RaycastFilterType.Blacklist
    local result = workspace:Raycast(origin, Vector3.new(0, -200, 0), params)
    if result and result.Position then
        return (origin - result.Position).Magnitude
    else
        return math.huge
    end
end

local state = {}

-- Main Detection Loop
spawn(function()
    while true do
        local players = Players:GetPlayers()
        local anySuspicious = 0
        
        for _, plr in pairs(players) do
            if plr ~= LocalPlayer and plr.Character and plr.Character.Parent then
                local hrp = plr.Character:FindFirstChild("HumanoidRootPart")
                local humanoid = plr.Character:FindFirstChildWhichIsA("Humanoid")
                if hrp and humanoid then
                    if not state[plr] then
                        state[plr] = { 
                            onGround = true, 
                            startY = hrp.Position.Y, 
                            maxY = hrp.Position.Y, 
                            airStartTime = nil, 
                            groundDistanceTimer = 0 
                        }
                    end
                    local st = state[plr]

                    -- Speed Check
                    local vel = hrp.Velocity
                    local horizSpeed = Vector3.new(vel.X, 0, vel.Z).Magnitude
                    if horizSpeed > SPEED_THRESHOLD then
                        setSuspicion(plr, "üöÄ HACK SPEED: " .. math.floor(horizSpeed) .. " studs/s")
                    else
                        clearReason(plr, "üöÄ HACK SPEED: " .. math.floor(horizSpeed) .. " studs/s")
                    end

                    -- Ground Distance & Fly
                    local dist = distanceToGround(hrp)
                    if dist > GROUND_DISTANCE_THRESHOLD then
                        st.groundDistanceTimer = (st.groundDistanceTimer or 0) + UPDATE_RATE
                        setSuspicion(plr, "‚òÅÔ∏è FLYING: " .. math.floor(dist) .. " studs above ground")
                        if st.groundDistanceTimer >= FLY_SECONDS_THRESHOLD then
                            setSuspicion(plr, "üõ∏ CONFIRMED HACK FLY!")
                        else
                            clearReason(plr, "üõ∏ CONFIRMED HACK FLY!")
                        end
                    else
                        st.groundDistanceTimer = 0
                        clearReason(plr, "‚òÅÔ∏è FLYING: " .. math.floor(dist) .. " studs above ground")
                        clearReason(plr, "üõ∏ CONFIRMED HACK FLY!")
                    end

                    -- Jump Height
                    if humanoid.FloorMaterial == Enum.Material.Air then
                        if not st.inAir then
                            st.inAir = true
                            st.jumpStartY = hrp.Position.Y
                            st.maxY = hrp.Position.Y
                            st.airStartTime = tick()
                        else
                            if hrp.Position.Y > st.maxY then 
                                st.maxY = hrp.Position.Y 
                            end
                        end
                    else
                        if st.inAir then
                            local jumpHeight = st.maxY - (st.jumpStartY or st.maxY)
                            if jumpHeight >= JUMP_HEIGHT_THRESHOLD then
                                setSuspicion(plr, "ü¶ò HACK JUMP: " .. math.floor(jumpHeight) .. " studs!")
                            else
                                clearReason(plr, "ü¶ò HACK JUMP: " .. math.floor(jumpHeight) .. " studs!")
                            end
                        end
                        st.inAir = false
                        st.jumpStartY = nil
                        st.maxY = nil
                        st.airStartTime = nil
                    end

                    if suspicious[plr] then
                        anySuspicious = anySuspicious + 1
                    end
                else
                    removeEntry(plr)
                end
            else
                removeEntry(plr)
            end
        end

        if anySuspicious == 0 then
            TweenService:Create(infoLabel, TweenInfo.new(0.5), {TextColor3 = Color3.fromRGB(150, 150, 150)}):Play()
            infoLabel.Text = "No suspicious players detected üîç"
        else
            TweenService:Create(infoLabel, TweenInfo.new(0.3), {TextColor3 = Color3.fromRGB(255, 100, 100)}):Play()
            infoLabel.Text = ("üî• HACKERS DETECTED: %d players! üíÄ"):format(anySuspicious)
        end

        for plr, _ in pairs(suspicious) do
            if not table.find(Players:GetPlayers(), plr) then
                removeEntry(plr)
            end
        end

        wait(UPDATE_RATE)
    end
end)

-- Camera Follow
local camera = workspace.CurrentCamera
local previousCameraSubject = camera.CameraSubject
local followConnection = nil

local function stopFollowing()
    if followConnection then
        followConnection:Disconnect()
        followConnection = nil
    end
    camera.CameraSubject = previousCameraSubject or workspace.CurrentCamera.CameraSubject
    camera.CameraType = Enum.CameraType.Custom
    cameraFollowing = false
    lookBtn.Text = "LOOK üëÅÔ∏è"
    TweenService:Create(lookBtn, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(100, 0, 0)}):Play()
end

local function startFollowing(plr)
    if not plr or not plr.Character then return end
    local hum = plr.Character:FindFirstChildWhichIsA("Humanoid")
    if not hum then return end
    
    previousCameraSubject = camera.CameraSubject
    camera.CameraSubject = hum
    camera.CameraType = Enum.CameraType.Follow
    cameraFollowing = true
    lookBtn.Text = "STOP ‚ùå"
    TweenService:Create(lookBtn, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(150, 0, 0)}):Play()
    
    local flash = Instance.new("Frame")
    flash.Size = UDim2.new(1, 0, 1, 0)
    flash.Position = UDim2.new(0, 0, 0, 0)
    flash.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    flash.BackgroundTransparency = 1
    flash.Parent = screenGui
    
    TweenService:Create(flash, TweenInfo.new(0.2), {BackgroundTransparency = 0.5}):Play()
    TweenService:Create(flash, TweenInfo.new(0.2), {BackgroundTransparency = 1}):Play()
    game:GetService("Debris"):AddItem(flash, 0.4)
end

lookBtn.MouseButton1Click:Connect(function()
    if cameraFollowing then
        stopFollowing()
        return
    end
    
    if selectedPlayer and selectedPlayer.Character and selectedPlayer.Character.Parent then
        startFollowing(selectedPlayer)
    else
        for plr, rec in pairs(suspicious) do
            selectedPlayer = plr
            startFollowing(plr)
            break
        end
        if not cameraFollowing then
            infoLabel.Text = "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏Æ‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÉ‡∏´‡πâ‡∏ï‡∏≤‡∏°! üòà"
        end
    end
end)

-- Toggle Hide/Show
local hidden = false
toggleBtn.MouseButton1Click:Connect(function()
    hidden = not hidden
    mainFrame.Visible = not hidden
    toggleBtn.Text = hidden and "‡πÅ‡∏™‡∏î‡∏á üëÅÔ∏è" or "‡∏ã‡πà‡∏≠‡∏ô üîí"
    
    if hidden then
        if not playerGui:FindFirstChild("DetectShowBtn") then
            local showBtn = Instance.new("TextButton")
            showBtn.Name = "DetectShowBtn"
            showBtn.Size = UDim2.new(0, 90, 0, 35)
            showBtn.Position = UDim2.new(0, 10, 0.12, 0)
            showBtn.Text = "üî∞ DETECT"
            showBtn.Font = Enum.Font.GothamBold
            showBtn.TextSize = 14
            showBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
            showBtn.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
            showBtn.BorderSizePixel = 0
            showBtn.Parent = playerGui
            
            local showCorner = Instance.new("UICorner")
            showCorner.CornerRadius = UDim.new(0, 8)
            showCorner.Parent = showBtn
            
            local showStroke = Instance.new("UIStroke")
            showStroke.Color = Color3.fromRGB(255, 0, 0)
            showStroke.Thickness = 2
            showStroke.Parent = showBtn
            
            showBtn.MouseEnter:Connect(function()
                TweenService:Create(showBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80, 0, 0)}):Play()
            end)
            
            showBtn.MouseLeave:Connect(function()
                TweenService:Create(showBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 0, 0)}):Play()
            end)
            
            showBtn.MouseButton1Click:Connect(function()
                hidden = false
                mainFrame.Visible = true
                showBtn:Destroy()
            end)
        end
    else
        local b = playerGui:FindFirstChild("DetectShowBtn")
        if b then b:Destroy() end
    end
end)

-- Cleanup
Players.PlayerRemoving:Connect(function(plr)
    removeEntry(plr)
end)

refreshCanvas()
wait(1)
print("üåë DETECT HACKING v2.0 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡πà‡∏≤‡πÅ‡∏Æ‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß! üî∞üíÄ")
print("üéâ PART 2/2 ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à! GUI ‡∏™‡∏∏‡∏î‡πÄ‡∏ó‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!")
