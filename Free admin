--// ‚ö° GUI "Command Sender v12" by Sigma (Enhanced by Grok) üòà
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TextChatService = game:GetService("TextChatService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- üñºÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á GUI ‡∏´‡∏•‡∏±‡∏Å
local gui = Instance.new("ScreenGui")
gui.Name = "CommandSenderUI"
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local main = Instance.new("Frame")
main.Size = UDim2.new(0, 400, 0, 600) -- ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ó‡πà
main.Position = UDim2.new(0.5, -200, 0.5, -300)
main.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
main.ClipsDescendants = true
main.ZIndex = 1
main.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = main

local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new({
	ColorSequenceKeypoint.new(0, Color3.fromRGB(20, 20, 30)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(50, 0, 0))
})
gradient.Rotation = 45
gradient.Parent = main

local stroke = Instance.new("UIStroke")
stroke.Thickness = 2
stroke.Color = Color3.fromRGB(255, 50, 50)
stroke.Transparency = 0.5
stroke.Parent = main

local title = Instance.new("TextLabel")
title.Text = "üí• HD Admin Exploiter"
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
title.TextColor3 = Color3.fromRGB(255, 50, 50)
title.Font = Enum.Font.GothamBlack
title.TextSize = 20
title.ZIndex = 2
title.Parent = main
local cornerTitle = Instance.new("UICorner")
cornerTitle.CornerRadius = UDim.new(0, 8)
cornerTitle.Parent = title

-- üìù ‡∏ä‡πà‡∏≠‡∏á‡∏õ‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
local playerInput = Instance.new("TextBox")
playerInput.Size = UDim2.new(1, -10, 0, 35)
playerInput.Position = UDim2.new(0, 5, 0, 45)
playerInput.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
playerInput.TextColor3 = Color3.new(1, 1, 1)
playerInput.PlaceholderText = "üîç ‡∏õ‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô..."
playerInput.Font = Enum.Font.Gotham
playerInput.TextSize = 16
playerInput.ZIndex = 3
playerInput.Parent = main
local cornerInput = Instance.new("UICorner")
cornerInput.CornerRadius = UDim.new(0, 6)
cornerInput.Parent = playerInput
local strokeInput = Instance.new("UIStroke")
strokeInput.Thickness = 1
strokeInput.Color = Color3.fromRGB(255, 50, 50)
strokeInput.Transparency = 0.7
strokeInput.Parent = playerInput

-- üìú ‡∏ä‡πà‡∏≠‡∏á‡∏õ‡πâ‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
local commandInput = Instance.new("TextBox")
commandInput.Size = UDim2.new(0.65, -10, 0, 35)
commandInput.Position = UDim2.new(0, 5, 0, 85)
commandInput.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
commandInput.TextColor3 = Color3.new(1, 1, 1)
commandInput.PlaceholderText = "üíª ‡∏õ‡πâ‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á (‡πÄ‡∏ä‡πà‡∏ô to, rocket)..."
commandInput.Font = Enum.Font.Gotham
commandInput.TextSize = 16
commandInput.ZIndex = 3
commandInput.Parent = main
local cornerCommandInput = Instance.new("UICorner")
cornerCommandInput.CornerRadius = UDim.new(0, 6)
cornerCommandInput.Parent = commandInput
local strokeCommandInput = Instance.new("UIStroke")
strokeCommandInput.Thickness = 1
strokeCommandInput.Color = Color3.fromRGB(255, 50, 50)
strokeCommandInput.Transparency = 0.7
strokeCommandInput.Parent = commandInput

-- üöÄ ‡∏õ‡∏∏‡πà‡∏°‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
local sendCommandButton = Instance.new("TextButton")
sendCommandButton.Text = "üì° ‡∏™‡πà‡∏á"
sendCommandButton.Size = UDim2.new(0.35, -15, 0, 35)
sendCommandButton.Position = UDim2.new(0.65, 5, 0, 85)
sendCommandButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
sendCommandButton.TextColor3 = Color3.new(1, 1, 1)
sendCommandButton.Font = Enum.Font.GothamBlack
sendCommandButton.TextSize = 16
sendCommandButton.ZIndex = 3
sendCommandButton.Parent = main
local cornerSendButton = Instance.new("UICorner")
cornerSendButton.CornerRadius = UDim.new(0, 6)
cornerSendButton.Parent = sendCommandButton
local strokeSendButton = Instance.new("UIStroke")
strokeSendButton.Thickness = 1
strokeSendButton.Color = Color3.fromRGB(255, 255, 255)
strokeSendButton.Transparency = 0.7
strokeSendButton.Parent = sendCommandButton

-- üìú ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô
local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, -10, 0, 35)
statusLabel.Position = UDim2.new(0, 5, 0, 125)
statusLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
statusLabel.Text = "üõ°Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á..."
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextSize = 16
statusLabel.ZIndex = 3
statusLabel.Parent = main
local cornerStatus = Instance.new("UICorner")
cornerStatus.CornerRadius = UDim.new(0, 6)
cornerStatus.Parent = statusLabel
local strokeStatus = Instance.new("UIStroke")
strokeStatus.Thickness = 1
strokeStatus.Color = Color3.fromRGB(255, 50, 50)
strokeStatus.Transparency = 0.7
strokeStatus.Parent = statusLabel

local playerList = Instance.new("ScrollingFrame")
playerList.Size = UDim2.new(1, -10, 1, -300)
playerList.Position = UDim2.new(0, 5, 0, 165)
playerList.CanvasSize = UDim2.new(0, 0, 0, 0)
playerList.ScrollBarThickness = 6
playerList.BackgroundTransparency = 1
playerList.ClipsDescendants = true
playerList.ZIndex = 2
playerList.Parent = main

local layout = Instance.new("UIListLayout")
layout.Padding = UDim.new(0, 4)
layout.Parent = playerList

-- üåê ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á HD Admin
local function sendMessage(command, playerName)
	local args = { ":" .. command .. " " .. playerName }
	local success, result = pcall(function()
		return ReplicatedStorage:WaitForChild("HDAdminClient"):WaitForChild("Signals"):WaitForChild("RequestCommand"):InvokeServer(unpack(args))
	end)
	if success then
		print("‚úÖ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: " .. args[1])
		return true
	else
		warn("‚ùå ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ‡πÑ‡∏°‡πà‡∏û‡∏ö HDAdminClient ‡∏´‡∏£‡∏∑‡∏≠ RequestCommand - " .. tostring(result))
		return false
	end
end

-- üßæ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
local selectedPlayers = {}

-- üìú ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
local function updatePlayerList()
	for _, child in ipairs(playerList:GetChildren()) do
		if child:IsA("Frame") then
			child:Destroy()
		end
	end

	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			local item = Instance.new("Frame")
			item.Size = UDim2.new(1, -5, 0, 50)
			item.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
			item.ZIndex = 3
			item.Parent = playerList

			local corner = Instance.new("UICorner")
			corner.CornerRadius = UDim.new(0, 6)
			corner.Parent = item

			local thumb = Instance.new("ImageLabel")
			thumb.Size = UDim2.new(0, 50, 0, 50)
			thumb.BackgroundTransparency = 1
			local content, _ = Players:GetUserThumbnailAsync(plr.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size100x100)
			thumb.Image = content
			thumb.ZIndex = 4
			thumb.Parent = item
			local cornerThumb = Instance.new("UICorner")
			cornerThumb.CornerRadius = UDim.new(0, 6)
			cornerThumb.Parent = thumb

			local nameLabel = Instance.new("TextLabel")
			nameLabel.Text = plr.Name
			nameLabel.Size = UDim2.new(1, -130, 1, 0)
			nameLabel.Position = UDim2.new(0, 60, 0, 0)
			nameLabel.TextColor3 = Color3.new(1, 1, 1)
			nameLabel.BackgroundTransparency = 1
			nameLabel.TextXAlignment = Enum.TextXAlignment.Left
			nameLabel.Font = Enum.Font.Gotham
			nameLabel.TextSize = 16
			nameLabel.ZIndex = 4
			nameLabel.Parent = item

			local select = Instance.new("TextButton")
			select.Text = selectedPlayers[plr.Name] and "‚úî" or "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"
			select.Size = UDim2.new(0, 60, 0, 30)
			select.Position = UDim2.new(1, -65, 0.5, -15)
			select.BackgroundColor3 = selectedPlayers[plr.Name] and Color3.fromRGB(255, 50, 50) or Color3.fromRGB(60, 120, 255)
			select.TextColor3 = Color3.new(1, 1, 1)
			select.Font = Enum.Font.GothamBold
			select.TextSize = 14
			select.ZIndex = 4
			select.Parent = item
			local cornerSelect = Instance.new("UICorner")
			cornerSelect.CornerRadius = UDim.new(0, 6)
			cornerSelect.Parent = select

			local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
			select.MouseEnter:Connect(function()
				TweenService:Create(select, tweenInfo, { Size = UDim2.new(0, 65, 0, 32) }):Play()
			end)
			select.MouseLeave:Connect(function()
				TweenService:Create(select, tweenInfo, { Size = UDim2.new(0, 60, 0, 30) }):Play()
			end)

			select.MouseButton1Click:Connect(function()
				if selectedPlayers[plr.Name] then
					selectedPlayers[plr.Name] = nil
					select.Text = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"
					select.BackgroundColor3 = Color3.fromRGB(60, 120, 255)
				else
					selectedPlayers[plr.Name] = true
					select.Text = "‚úî"
					select.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
				end
				TweenService:Create(select, tweenInfo, { BackgroundColor3 = select.BackgroundColor3 }):Play()
			end)
		end
	end

	playerList.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
end

-- üöÄ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
sendCommandButton.MouseButton1Click:Connect(function()
	local command = commandInput.Text:lower():gsub("^:", "") -- ‡∏•‡∏ö : ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
	if command == "" then
		warn("‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡πâ‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á!")
		return
	end
	if not next(selectedPlayers) and playerInput.Text == "" then
		warn("‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô!")
		return
	end
	if playerInput.Text ~= "" then
		task.spawn(function()
			if sendMessage(command, playerInput.Text) then
				local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
				statusLabel.Text = "üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: " .. command .. " ‡πÑ‡∏õ‡∏¢‡∏±‡∏á " .. playerInput.Text
				TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
				task.wait(3)
				TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 1 }):Play()
				task.wait(0.5)
				statusLabel.Text = "üõ°Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á..."
				TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
			end
		end)
	end
	for name in pairs(selectedPlayers) do
		task.spawn(function()
			if sendMessage(command, name) then
				local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
				statusLabel.Text = "üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: " .. command .. " ‡πÑ‡∏õ‡∏¢‡∏±‡∏á " .. name
				TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
				task.wait(3)
				TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 1 }):Play()
				task.wait(0.5)
				statusLabel.Text = "üõ°Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á..."
				TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
			end
		end)
	end
end)

local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
sendCommandButton.MouseEnter:Connect(function()
	TweenService:Create(sendCommandButton, tweenInfo, { Size = UDim2.new(0.35, -10, 0, 37), BackgroundColor3 = Color3.fromRGB(255, 100, 100) }):Play()
end)
sendCommandButton.MouseLeave:Connect(function()
	TweenService:Create(sendCommandButton, tweenInfo, { Size = UDim2.new(0.35, -15, 0, 35), BackgroundColor3 = Color3.fromRGB(255, 50, 50) }):Play()
end)

-- üß© ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
local controlFrame = Instance.new("Frame")
controlFrame.Size = UDim2.new(1, -10, 0, 40)
controlFrame.Position = UDim2.new(0, 5, 1, -90)
controlFrame.BackgroundTransparency = 1
controlFrame.ZIndex = 5
controlFrame.Parent = main

local controlLayout = Instance.new("UIGridLayout")
controlLayout.CellSize = UDim2.new(0, 120, 0, 30)
controlLayout.CellPadding = UDim2.new(0, 8, 0, 5)
controlLayout.SortOrder = Enum.SortOrder.LayoutOrder
controlLayout.Parent = controlFrame

-- üîÑ ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
local refresh = Instance.new("TextButton")
refresh.Text = "üîÑ Refresh"
refresh.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
refresh.TextColor3 = Color3.new(1, 1, 1)
refresh.Font = Enum.Font.GothamBlack
refresh.TextSize = 14
refresh.ZIndex = 6
refresh.Parent = controlFrame
local cornerRefresh = Instance.new("UICorner")
cornerRefresh.CornerRadius = UDim.new(0, 6)
cornerRefresh.Parent = refresh
local strokeRefresh = Instance.new("UIStroke")
strokeRefresh.Thickness = 1
strokeRefresh.Color = Color3.fromRGB(255, 255, 255)
strokeRefresh.Transparency = 0.7
strokeRefresh.Parent = refresh
refresh.MouseButton1Click:Connect(function()
	updatePlayerList()
end)
refresh.MouseEnter:Connect(function()
	TweenService:Create(refresh, tweenInfo, { Size = UDim2.new(0, 125, 0, 32), BackgroundColor3 = Color3.fromRGB(150, 150, 255) }):Play()
end)
refresh.MouseLeave:Connect(function()
	TweenService:Create(refresh, tweenInfo, { Size = UDim2.new(0, 120, 0, 30), BackgroundColor3 = Color3.fromRGB(100, 100, 255) }):Play()
end)

-- üß† ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î / ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
local selectAll = Instance.new("TextButton")
selectAll.Text = "‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
selectAll.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
selectAll.TextColor3 = Color3.new(1, 1, 1)
selectAll.Font = Enum.Font.GothamBlack
selectAll.TextSize = 14
selectAll.ZIndex = 6
selectAll.Parent = controlFrame
local cornerSelectAll = Instance.new("UICorner")
cornerSelectAll.CornerRadius = UDim.new(0, 6)
cornerSelectAll.Parent = selectAll
local strokeSelectAll = Instance.new("UIStroke")
strokeSelectAll.Thickness = 1
strokeSelectAll.Color = Color3.fromRGB(255, 255, 255)
strokeSelectAll.Transparency = 0.7
strokeSelectAll.Parent = selectAll

local allSelected = false
selectAll.MouseButton1Click:Connect(function()
	allSelected = not allSelected
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			selectedPlayers[plr.Name] = allSelected or nil
		end
	end
	selectAll.Text = allSelected and "‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" or "‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
	updatePlayerList()
end)
selectAll.MouseEnter:Connect(function()
	TweenService:Create(selectAll, tweenInfo, { Size = UDim2.new(0, 125, 0, 32), BackgroundColor3 = Color3.fromRGB(0, 255, 100) }):Play()
end)
selectAll.MouseLeave:Connect(function()
	TweenService:Create(selectAll, tweenInfo, { Size = UDim2.new(0, 120, 0, 30), BackgroundColor3 = Color3.fromRGB(0, 200, 100) }):Play()
end)

-- üéÆ ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î GUI
local toggleGui = Instance.new("TextButton")
toggleGui.Text = "üî¥ ‡∏ã‡πà‡∏≠‡∏ô GUI"
toggleGui.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
toggleGui.TextColor3 = Color3.new(1, 1, 1)
toggleGui.Font = Enum.Font.GothamBlack
toggleGui.TextSize = 14
toggleGui.ZIndex = 6
toggleGui.Parent = controlFrame
local cornerToggleGui = Instance.new("UICorner")
cornerToggleGui.CornerRadius = UDim.new(0, 6)
cornerToggleGui.Parent = toggleGui
local strokeToggleGui = Instance.new("UIStroke")
strokeToggleGui.Thickness = 1
strokeToggleGui.Color = Color3.fromRGB(255, 255, 255)
strokeToggleGui.Transparency = 0.7
strokeToggleGui.Parent = toggleGui
toggleGui.MouseEnter:Connect(function()
	TweenService:Create(toggleGui, tweenInfo, { Size = UDim2.new(0, 125, 0, 32), BackgroundColor3 = Color3.fromRGB(255, 100, 100) }):Play()
end)
toggleGui.MouseLeave:Connect(function()
	TweenService:Create(toggleGui, tweenInfo, { Size = UDim2.new(0, 120, 0, 30), BackgroundColor3 = Color3.fromRGB(255, 50, 50) }):Play()
end)

-- üõ°Ô∏è ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Auto :re
local autoReEnabled = false
local autoReButton = Instance.new("TextButton")
autoReButton.Text = "üîÑ Auto :re (‡∏õ‡∏¥‡∏î)"
autoReButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
autoReButton.TextColor3 = Color3.new(1, 1, 1)
autoReButton.Font = Enum.Font.GothamBlack
autoReButton.TextSize = 14
autoReButton.ZIndex = 6
autoReButton.Parent = controlFrame
local cornerAutoRe = Instance.new("UICorner")
cornerAutoRe.CornerRadius = UDim.new(0, 6)
cornerAutoRe.Parent = autoReButton
local strokeAutoRe = Instance.new("UIStroke")
strokeAutoRe.Thickness = 1
strokeAutoRe.Color = Color3.fromRGB(255, 255, 255)
strokeAutoRe.Transparency = 0.7
strokeAutoRe.Parent = autoReButton
autoReButton.MouseEnter:Connect(function()
	TweenService:Create(autoReButton, tweenInfo, { Size = UDim2.new(0, 125, 0, 32), BackgroundColor3 = autoReEnabled and Color3.fromRGB(0, 255, 100) or Color3.fromRGB(150, 150, 150) }):Play()
end)
autoReButton.MouseLeave:Connect(function()
	TweenService:Create(autoReButton, tweenInfo, { Size = UDim2.new(0, 120, 0, 30), BackgroundColor3 = autoReEnabled and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(100, 100, 100) }):Play()
end)

-- üõ°Ô∏è ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Anti-Command
local antiCommandEnabled = false
local antiCommandButton = Instance.new("TextButton")
antiCommandButton.Text = "üõ°Ô∏è Anti-Command (‡∏õ‡∏¥‡∏î)"
antiCommandButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
antiCommandButton.TextColor3 = Color3.new(1, 1, 1)
antiCommandButton.Font = Enum.Font.GothamBlack
antiCommandButton.TextSize = 14
antiCommandButton.ZIndex = 6
antiCommandButton.Parent = controlFrame
local cornerAntiCommand = Instance.new("UICorner")
cornerAntiCommand.CornerRadius = UDim.new(0, 6)
cornerAntiCommand.Parent = antiCommandButton
local strokeAntiCommand = Instance.new("UIStroke")
strokeAntiCommand.Thickness = 1
strokeAntiCommand.Color = Color3.fromRGB(255, 255, 255)
strokeAntiCommand.Transparency = 0.7
strokeAntiCommand.Parent = antiCommandButton
antiCommandButton.MouseEnter:Connect(function()
	TweenService:Create(antiCommandButton, tweenInfo, { Size = UDim2.new(0, 125, 0, 32), BackgroundColor3 = antiCommandEnabled and Color3.fromRGB(0, 255, 100) or Color3.fromRGB(150, 150, 150) }):Play()
end)
antiCommandButton.MouseLeave:Connect(function()
	TweenService:Create(antiCommandButton, tweenInfo, { Size = UDim2.new(0, 120, 0, 30), BackgroundColor3 = antiCommandEnabled and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(100, 100, 100) }):Play()
end)

-- üß© ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
local buttonFrame = Instance.new("ScrollingFrame")
buttonFrame.Size = UDim2.new(1, -10, 0, 150)
buttonFrame.Position = UDim2.new(0, 5, 1, -240)
buttonFrame.BackgroundTransparency = 1
buttonFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
buttonFrame.ScrollBarThickness = 4
buttonFrame.ZIndex = 5
buttonFrame.Parent = main

local buttonLayout = Instance.new("UIGridLayout")
buttonLayout.CellSize = UDim2.new(0, 70, 0, 30)
buttonLayout.CellPadding = UDim2.new(0, 8, 0, 8)
buttonLayout.SortOrder = Enum.SortOrder.LayoutOrder
buttonLayout.Parent = buttonFrame

-- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
local function createButton(text, color, command)
	local btn = Instance.new("TextButton")
	btn.Text = text
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.GothamBlack
	btn.TextSize = 14
	btn.ZIndex = 6
	btn.Parent = buttonFrame

	local cornerBtn = Instance.new("UICorner")
	cornerBtn.CornerRadius = UDim.new(0, 6)
	cornerBtn.Parent = btn

	local stroke = Instance.new("UIStroke")
	stroke.Thickness = 1
	stroke.Color = Color3.fromRGB(255, 255, 255)
	stroke.Transparency = 0.7
	stroke.Parent = btn

	btn.MouseEnter:Connect(function()
		TweenService:Create(btn, tweenInfo, { Size = UDim2.new(0, 75, 0, 32), BackgroundColor3 = Color3.fromRGB(math.min(color.R * 255 + 50, 255), math.min(color.G * 255 + 50, 255), math.min(color.B * 255 + 50, 255)) }):Play()
	end)
	btn.MouseLeave:Connect(function()
		TweenService:Create(btn, tweenInfo, { Size = UDim2.new(0, 70, 0, 30), BackgroundColor3 = color }):Play()
	end)

	btn.MouseButton1Click:Connect(function()
		if not next(selectedPlayers) and playerInput.Text == "" then
			warn("‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô!")
			return
		end
		if playerInput.Text ~= "" then
			task.spawn(function()
				if sendMessage(command, playerInput.Text) then
					local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
					statusLabel.Text = "üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: " .. command .. " ‡πÑ‡∏õ‡∏¢‡∏±‡∏á " .. playerInput.Text
					TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
					task.wait(3)
					TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 1 }):Play()
					task.wait(0.5)
					statusLabel.Text = "üõ°Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á..."
					TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
				end
			end)
		end
		for name in pairs(selectedPlayers) do
			task.spawn(function()
				if sendMessage(command, name) then
					local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
					statusLabel.Text = "üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: " .. command .. " ‡πÑ‡∏õ‡∏¢‡∏±‡∏á " .. name
					TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
					task.wait(3)
					TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 1 }):Play()
					task.wait(0.5)
					statusLabel.Text = "üõ°Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á..."
					TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
				end
			end)
		end
	end)
end

-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏´‡∏•‡∏±‡∏Å
createButton("üí© :poop", Color3.fromRGB(140, 100, 255), "poop")
createButton("üßä :ice", Color3.fromRGB(0, 170, 255), "ice")
createButton("üöî :jail", Color3.fromRGB(255, 90, 90), "jail")
createButton("‚ö° :zap", Color3.fromRGB(255, 210, 50), "zap")
createButton("üõë :uncmdbar2", Color3.fromRGB(200, 50, 200), "uncmdbar2")
createButton("üî• :unff", Color3.fromRGB(255, 150, 50), "unff")
createButton("üïäÔ∏è :unfly", Color3.fromRGB(50, 200, 200), "unfly")
createButton("üîÑ :re", Color3.fromRGB(100, 255, 100), "re")
createButton("üö∂ :to", Color3.fromRGB(255, 100, 150), "to")
createButton("ü§ù :bring", Color3.fromRGB(100, 150, 255), "bring")
createButton("üöÄ :rocket", Color3.fromRGB(255, 100, 0), "rocket")

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï CanvasSize ‡∏Ç‡∏≠‡∏á buttonFrame
buttonLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	buttonFrame.CanvasSize = UDim2.new(0, 0, 0, buttonLayout.AbsoluteContentSize.Y + 10)
end)

-- üé® ‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î GUI
local toggleIndicator = Instance.new("TextButton")
toggleIndicator.Size = UDim2.new(0, 60, 0, 60)
toggleIndicator.Position = UDim2.new(0.5, -30, 0, 10)
toggleIndicator.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
toggleIndicator.Text = "üü¢"
toggleIndicator.TextColor3 = Color3.new(1, 1, 1)
toggleIndicator.Font = Enum.Font.GothamBlack
toggleIndicator.TextSize = 24
toggleIndicator.ZIndex = 10
toggleIndicator.Visible = false
toggleIndicator.Parent = gui

local cornerIndicator = Instance.new("UICorner")
cornerIndicator.CornerRadius = UDim.new(1, 0)
cornerIndicator.Parent = toggleIndicator

local strokeIndicator = Instance.new("UIStroke")
strokeIndicator.Thickness = 2
strokeIndicator.Color = Color3.fromRGB(255, 255, 255)
strokeIndicator.Transparency = 0.5
strokeIndicator.Parent = toggleIndicator

toggleIndicator.MouseEnter:Connect(function()
	TweenService:Create(toggleIndicator, tweenInfo, { Size = UDim2.new(0, 65, 0, 65) }):Play()
end)
toggleIndicator.MouseLeave:Connect(function()
	TweenService:Create(toggleIndicator, tweenInfo, { Size = UDim2.new(0, 60, 0, 60) }):Play()
end)

-- üéÆ ‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á GUI
local guiVisible = true
local function toggleGuiVisibility()
	guiVisible = not guiVisible
	main.Visible = guiVisible
	toggleIndicator.Visible = not guiVisible
	toggleGui.Text = guiVisible and "üî¥ ‡∏ã‡πà‡∏≠‡∏ô GUI" or "üü¢ ‡πÅ‡∏™‡∏î‡∏á GUI"
	toggleGui.BackgroundColor3 = guiVisible and Color3.fromRGB(255, 50, 50) or Color3.fromRGB(0, 200, 100)
	toggleIndicator.BackgroundColor3 = guiVisible and Color3.fromRGB(255, 50, 50) or Color3.fromRGB(0, 200, 100)
	local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
	TweenService:Create(main, tweenInfo, { BackgroundTransparency = guiVisible and 0 or 1 }):Play()
	TweenService:Create(toggleIndicator, tweenInfo, { BackgroundTransparency = guiVisible and 1 or 0 }):Play()
	print(guiVisible and "üü¢ ‡πÅ‡∏™‡∏î‡∏á GUI" or "üî¥ ‡∏ã‡πà‡∏≠‡∏ô GUI")
end

toggleGui.MouseButton1Click:Connect(toggleGuiVisibility)
toggleIndicator.MouseButton1Click:Connect(toggleGuiVisibility)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.H and UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
		toggleGuiVisibility()
	end
end)

-- üîÑ Auto :re ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏¢
autoReButton.MouseButton1Click:Connect(function()
	autoReEnabled = not autoReEnabled
	autoReButton.Text = autoReEnabled and "üîÑ Auto :re (‡πÄ‡∏õ‡∏¥‡∏î)" or "üîÑ Auto :re (‡∏õ‡∏¥‡∏î)"
	autoReButton.BackgroundColor3 = autoReEnabled and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(100, 100, 100)
end)

LocalPlayer.CharacterAdded:Connect(function(character)
	if autoReEnabled then
		local humanoid = character:WaitForChild("Humanoid")
		humanoid.Died:Connect(function()
			task.spawn(function()
				sendMessage("re", LocalPlayer.Name)
			end)
		end)
	end
end)

-- üõ°Ô∏è ‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á (:poop, :jail, :ice, :control)
antiCommandButton.MouseButton1Click:Connect(function()
	antiCommandEnabled = not antiCommandEnabled
	antiCommandButton.Text = antiCommandEnabled and "üõ°Ô∏è Anti-Command (‡πÄ‡∏õ‡∏¥‡∏î)" or "üõ°Ô∏è Anti-Command (‡∏õ‡∏¥‡∏î)"
	antiCommandButton.BackgroundColor3 = antiCommandEnabled and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(100, 100, 100)
end)

TextChatService.TextChannels.RBXGeneral.MessageReceived:Connect(function(message)
	if not antiCommandEnabled then return end
	local msg = message.Text:lower()
	local sender = Players:GetPlayerByUserId(message.SenderUserId)
	local commands = { "poop", "jail", "ice", "control" }
	local counterCommands = { "unpoop", "unjail", "unice", "control" }
	for i, cmd in ipairs(commands) do
		if msg:match(":" .. cmd .. "%s+(%S+)") then
			local targetName = msg:match(":" .. cmd .. "%s+(%S+)")
			if targetName and LocalPlayer.Name:lower():find(targetName, 1, true) then
				task.spawn(function()
					local counterCmd = counterCommands[i]
					local target = (cmd == "control" and sender and sender.Name) or LocalPlayer.Name
					if target then
						sendMessage(counterCmd, target)
						local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
						statusLabel.Text = "üõ°Ô∏è ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô: ‡∏£‡∏±‡∏ô " .. counterCmd .. " ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! (‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö: " .. targetName .. ")"
						TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
						task.wait(3)
						TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 1 }):Play()
						task.wait(0.5)
						statusLabel.Text = "üõ°Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á..."
						TweenService:Create(statusLabel, tweenInfo, { TextTransparency = 0 }):Play()
					end
				end)
			end
		end
	end
end)

-- ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
updatePlayerList()

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤/‡∏≠‡∏≠‡∏Å
local debounce = false
Players.PlayerAdded:Connect(function()
	if not debounce then
		debounce = true
		task.wait(0.5)
		updatePlayerList()
		debounce = false
	end
end)
Players.PlayerRemoving:Connect(function()
	if not debounce then
		debounce = true
		task.wait(0.5)
		updatePlayerList()
		debounce = false
	end
end)
