-- LocalScript: ATM Looter V10.1 Part 1
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Camera = Workspace.CurrentCamera

-- =========================
-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å
-- =========================
local loopActive = false
local lastPosition = nil      -- ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏≤‡∏õ
local openPosition = nil      -- ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏≠‡∏ô‡∏Å‡∏î‡πÄ‡∏õ‡∏¥‡∏î loop

-- =========================
-- ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
-- =========================
local speedLoot = 0.05       -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏•‡πâ‡∏ô
local speedUseBag = 0.01     -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ä‡πâ‡∏ñ‡∏∏‡∏á‡πÄ‡∏á‡∏¥‡∏ô

-- =========================
-- ‡∏à‡∏∏‡∏î‡∏ß‡∏≤‡∏õ‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡∏°‡πà
-- =========================
local atmPosition = Vector3.new(379.88, 167.87, 23.01)

-- =========================
-- ‡∏´‡∏≤ ATMModel ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡πÉ‡∏ô workspace
-- =========================
local function getAllATMs()
    local atms = {}
    for _, obj in pairs(Workspace:GetChildren()) do
        if obj:FindFirstChild("ATMModel") then
            table.insert(atms, obj.ATMModel)
        end
    end
    return atms
end

local ATMs = getAllATMs()

-- =========================
-- ‡πÄ‡∏õ‡∏¥‡∏î ProximityPrompt ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
-- =========================
RunService.Heartbeat:Connect(function()
    for _, atm in pairs(ATMs) do
        if atm.Model and atm.Model:FindFirstChild("Part") then
            local prompt = atm.Model.Part:FindFirstChild("ProximityPrompt")
            if prompt and not prompt.Enabled then
                prompt.Enabled = true
            end
        end
    end
end)
-- =========================
-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏•‡πâ‡∏ô ATM
-- =========================
local function fireATM(atm)
    if atm.Model and atm.Model:FindFirstChild("Part") then
        local prompt = atm.Model.Part:FindFirstChild("ProximityPrompt")
        if prompt then
            prompt:InputHoldBegin()
            wait(speedLoot)
            prompt:InputHoldEnd()
        end
    end
end

-- =========================
-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ä‡πâ Money Bag
-- =========================
local function useMoneyBag()
    local backpack = LocalPlayer:WaitForChild("Backpack")
    local character = LocalPlayer.Character
    if not character then return end
    local tool = character:FindFirstChild("Money Bag") or backpack:FindFirstChild("Money Bag")
    if tool then
        if tool.Parent ~= character then
            tool.Parent = character
        end
        tool:Activate()
    end
end

-- =========================
-- Loop ‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡∏õ‡∏•‡πâ‡∏ô ATM + ‡πÉ‡∏ä‡πâ Money Bag ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏ô
-- =========================
spawn(function()
    while true do
        if loopActive then
            -- ‡πÉ‡∏ä‡πâ Money Bag ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏ô
            spawn(function()
                while loopActive do
                    useMoneyBag()
                    wait(speedUseBag)
                end
            end)

            -- ‡∏õ‡∏•‡πâ‡∏ô‡∏ó‡∏∏‡∏Å ATM
            for _, atm in pairs(ATMs) do
                local character = LocalPlayer.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    -- ‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ATM
                    character.HumanoidRootPart.CFrame = CFrame.new(atmPosition)
                end
                wait(0.05)
                fireATM(atm)
                wait(speedLoot)
            end

        else
            RunService.Heartbeat:Wait()
        end
    end
end)
-- =========================
-- ‡∏ß‡∏≤‡∏õ‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏≠‡∏ô‡∏õ‡∏¥‡∏î Loop
-- =========================
local function teleportToATMPosition()
    local character = LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        lastPosition = character.HumanoidRootPart.Position
        character.HumanoidRootPart.CFrame = CFrame.new(atmPosition)
    end
end

local function returnToOpenPosition()
    local character = LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") and openPosition then
        character.HumanoidRootPart.CFrame = CFrame.new(openPosition)
    end
end

-- =========================
-- ‡∏Å‡∏•‡πâ‡∏≠‡∏á Noclip (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏≥‡πÅ‡∏û‡∏á)
-- =========================
RunService.RenderStepped:Connect(function()
    local character = LocalPlayer.Character
    if character then
        Camera.CameraType = Enum.CameraType.Custom
        local camCFrame = Camera.CFrame
        -- ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
        Camera.CFrame = camCFrame
    end
end)
-- =========================
-- ‡∏™‡∏£‡πâ‡∏≤‡∏á UI
-- =========================
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "ATM_Looter_UI"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 280, 0, 180)
Frame.Position = UDim2.new(0.5, -140, 0.5, -90)
Frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
Frame.Active = true
Frame.Draggable = true

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1,0,0,30)
Title.Position = UDim2.new(0,0,0,0)
Title.Text = "‡∏õ‡∏±‡πâ‡∏°‡πÄ‡∏á‡∏¥‡∏ô ATM V10.1 ü§ë"
Title.BackgroundColor3 = Color3.fromRGB(45,45,45)
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.TextScaled = true

-- Toggle Loop Button
local ToggleButton = Instance.new("TextButton", Frame)
ToggleButton.Size = UDim2.new(0, 260, 0, 40)
ToggleButton.Position = UDim2.new(0, 10, 0, 40)
ToggleButton.Text = "‡πÄ‡∏õ‡∏¥‡∏î Loop"
ToggleButton.BackgroundColor3 = Color3.fromRGB(0,170,255)
ToggleButton.TextColor3 = Color3.fromRGB(255,255,255)

-- ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏•‡πâ‡∏ô
local LootSpeedBox = Instance.new("TextBox", Frame)
LootSpeedBox.Size = UDim2.new(0, 120, 0, 30)
LootSpeedBox.Position = UDim2.new(0, 10, 0, 90)
LootSpeedBox.PlaceholderText = "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏•‡πâ‡∏ô"
LootSpeedBox.Text = tostring(speedLoot)
LootSpeedBox.TextColor3 = Color3.fromRGB(255,255,255)
LootSpeedBox.BackgroundColor3 = Color3.fromRGB(50,50,50)

-- ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ä‡πâ‡∏ñ‡∏∏‡∏á‡πÄ‡∏á‡∏¥‡∏ô
local BagSpeedBox = Instance.new("TextBox", Frame)
BagSpeedBox.Size = UDim2.new(0, 120, 0, 30)
BagSpeedBox.Position = UDim2.new(0, 150, 0, 90)
BagSpeedBox.PlaceholderText = "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ä‡πâ‡∏ñ‡∏∏‡∏á‡πÄ‡∏á‡∏¥‡∏ô"
BagSpeedBox.Text = tostring(speedUseBag)
BagSpeedBox.TextColor3 = Color3.fromRGB(255,255,255)
BagSpeedBox.BackgroundColor3 = Color3.fromRGB(50,50,50)

-- =========================
-- ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏≤‡∏° TextBox
-- =========================
LootSpeedBox.FocusLost:Connect(function()
    local val = tonumber(LootSpeedBox.Text)
    if val and val > 0 then
        speedLoot = val
    end
end)

BagSpeedBox.FocusLost:Connect(function()
    local val = tonumber(BagSpeedBox.Text)
    if val and val > 0 then
        speedUseBag = val
    end
end)

-- =========================
-- Toggle Loop + ‡∏ß‡∏≤‡∏õ ATM
-- =========================
ToggleButton.MouseButton1Click:Connect(function()
    loopActive = not loopActive
    if loopActive then
        ToggleButton.Text = "‡∏õ‡∏¥‡∏î Loop"
        local character = LocalPlayer.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            openPosition = character.HumanoidRootPart.Position
        end
        teleportToATMPosition()
    else
        ToggleButton.Text = "‡πÄ‡∏õ‡∏¥‡∏î Loop"
        returnToOpenPosition()
    end
end)
-- =========================
-- ‡∏õ‡∏£‡∏±‡∏ö UI ‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡πà ‡πÜ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
-- =========================
-- ‡πÄ‡∏á‡∏≤ Frame
local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 10)

local UIStroke = Instance.new("UIStroke", Frame)
UIStroke.Thickness = 2
UIStroke.Color = Color3.fromRGB(0,170,255)
UIStroke.Transparency = 0.5

-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πà‡∏≠‡∏ô/‡πÇ‡∏ä‡∏ß‡πå UI
local HideButton = Instance.new("TextButton", Frame)
HideButton.Size = UDim2.new(0, 60, 0, 25)
HideButton.Position = UDim2.new(1, -70, 0, 5)
HideButton.Text = "‚õ∂"
HideButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
HideButton.TextColor3 = Color3.fromRGB(255,255,255)
HideButton.Font = Enum.Font.Gotham
HideButton.TextScaled = true
HideButton.AutoButtonColor = true

local uiHidden = false
HideButton.MouseButton1Click:Connect(function()
    uiHidden = not uiHidden
    for _, child in pairs(Frame:GetChildren()) do
        if child:IsA("TextButton") or child:IsA("TextBox") or child:IsA("TextLabel") then
            if child ~= HideButton and child ~= Title then
                child.Visible = not uiHidden
            end
        end
    end
end)

-- ====================‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏ô- ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÑ‡∏•‡πà‡πÄ‡∏â‡∏î‡∏™‡∏µ Stroke
-- =========================
local function updateUI()
    local t = tick() * 2
    local r = (math.sin(t) + 1)/2
    local g = (math.sin(t + 2) + 1)/2
    local b = (math.sin(t + 4) + 1)/2
    UIStroke.Color = Color3.new(r,g,b)
end
RunService.RenderStepped:Connect(updateUI)

-- =========================
-- ‡∏™‡∏£‡∏∏‡∏õ
-- =========================
print("ATM Looter V10.1 Ready ‚úÖ")
print("‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ñ‡∏£‡∏ö: ‡∏ß‡∏≤‡∏õ ATM ‡πÉ‡∏´‡∏°‡πà + Loop ‡∏õ‡∏•‡πâ‡∏ô + ‡πÉ‡∏ä‡πâ Money Bag (‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏ô) + ‡∏Å‡∏•‡πâ‡∏≠‡∏á Noclip + UI ‡πÄ‡∏ó‡πà ‡πÜ")










for i,v in pairs(game:GetService("Workspace"):GetDescendants()) do
	if v:IsA("ProximityPrompt") then
		v["HoldDuration"] = 0
	end
end


game:GetService("ProximityPromptService").PromptButtonHoldBegan:Connect(function(v)
    v["HoldDuration"] = 0
end)
