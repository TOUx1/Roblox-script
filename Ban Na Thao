-- LocalScript Part 1
local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

-- ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "FullCoolGUI"
gui.Parent = player:WaitForChild("PlayerGui")

-- ===== Main Frame (‡∏Ç‡∏¢‡∏≤‡∏¢) =====
local main = Instance.new("Frame")
main.Size = UDim2.new(0,500,0,400) -- ‡∏Ç‡∏¢‡∏≤‡∏¢ GUI
main.Position = UDim2.new(0.25,0,0.2,0)
main.BackgroundColor3 = Color3.fromRGB(25,25,25)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
main.Parent = gui

-- Header
local header = Instance.new("TextLabel")
header.Size = UDim2.new(1,0,0,30)
header.BackgroundColor3 = Color3.fromRGB(45,45,45)
header.Text = "üî• TOU MENU üî•"
header.TextColor3 = Color3.fromRGB(255,170,0)
header.Font = Enum.Font.FredokaOne
header.TextSize = 18
header.Parent = main

-- ===== SideBar =====
local sideBar = Instance.new("Frame")
sideBar.Size = UDim2.new(0,120,1,-30)
sideBar.Position = UDim2.new(0,0,0,30)
sideBar.BackgroundColor3 = Color3.fromRGB(40,40,40)
sideBar.BorderSizePixel = 0
sideBar.Parent = main

local function createSideButton(text, y, callback)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, -10, 0, 30)
	btn.Position = UDim2.new(0,5,0,y)
	btn.BackgroundColor3 = Color3.fromRGB(70,70,70)
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.Font = Enum.Font.SourceSansBold
	btn.TextSize = 16
	btn.Text = text
	btn.Parent = sideBar
	btn.MouseButton1Click:Connect(callback)
	return btn
end

-- ===== Content Frame =====
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -120, 1, -30)
contentFrame.Position = UDim2.new(0,120,0,30)
contentFrame.BackgroundColor3 = Color3.fromRGB(35,35,35)
contentFrame.BorderSizePixel = 0
contentFrame.Parent = main

-- UIListLayout ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
local listLayout = Instance.new("UIListLayout")
listLayout.Padding = UDim.new(0,8)
listLayout.SortOrder = Enum.SortOrder.LayoutOrder
listLayout.Parent = contentFrame

-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á GUI ‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0,80,0,25)
toggleBtn.Position = UDim2.new(0.6,0,0.3,-30)
toggleBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
toggleBtn.Text = "‚è© ‡∏ã‡πà‡∏≠‡∏ô"
toggleBtn.TextColor3 = Color3.fromRGB(255,255,255)
toggleBtn.Font = Enum.Font.SourceSansBold
toggleBtn.TextSize = 14
toggleBtn.Parent = gui

-- Dragging
local dragging = false
local dragStart, startPos
toggleBtn.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = toggleBtn.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)
game:GetService("UserInputService").InputChanged:Connect(function(input)
	if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
		local delta = input.Position - dragStart
		toggleBtn.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
										startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
end)

toggleBtn.MouseButton1Click:Connect(function()
	main.Visible = not main.Visible
	toggleBtn.Text = main.Visible and "‚è© ‡∏ã‡πà‡∏≠‡∏ô" or "‚è™ ‡πÅ‡∏™‡∏î‡∏á"
end)

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Å‡πà‡∏≤
local function clearContent()
	for _, child in ipairs(contentFrame:GetChildren()) do
		if child:IsA("TextButton") then
			child:Destroy()
		end
	end
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏° Content
local function makeContentButton(text, callback)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1,-20,0,30)
	btn.BackgroundColor3 = Color3.fromRGB(70,70,70)
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.Font = Enum.Font.SourceSansBold
	btn.TextSize = 16
	btn.Text = text
	btn.Parent = contentFrame
	btn.MouseButton1Click:Connect(callback)
	btn.LayoutOrder = #contentFrame:GetChildren() + 1
	return btn
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ
local function warpTo(pos)
	if char and hrp then
		hrp.CFrame = CFrame.new(pos)
	end
end

-- ‡∏õ‡∏∏‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ
local warpButtons = {
	{"üèπ ‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏∑‡∏ô", Vector3.new(495.77, 6.62, 1155.32)},
	{"üëÆ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à", Vector3.new(803.28, 13.27, -32.92)},
	{"üöó ‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏ñ", Vector3.new(209.14, 6.43, 1176.07)},
	{"üõí ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤", Vector3.new(767.00, 6.55, 174.00)},
	{"üöö ‡∏Ç‡∏ô‡∏™‡πà‡∏á", Vector3.new(26.80, 6.37, -193.39)},
	{"üè• ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•", Vector3.new(-187.00, 6.37, 1453.00)}
}

-- SideButton ‡∏ß‡∏≤‡∏õ
createSideButton("‡∏ß‡∏≤‡∏õ",5,function()
	clearContent()
	for _,v in ipairs(warpButtons) do
		makeContentButton(v[1],function() warpTo(v[2]) end)
	end
end)
-- SideButton Script Auto
createSideButton("Script Auto",50,function()
	clearContent()

	-- ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ Tool ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
	local btnAutoTool = makeContentButton("üëä ‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á : ‡∏õ‡∏¥‡∏î",function() end)
	btnAutoTool.Visible = true -- ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
	local autoToolOn = false
	local running = false
	local currentTool
	local cachedRemotes = {}
	local cachedFunctions = {}

	-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏¢‡∏¥‡∏á MouseClick
	local function fireMouseClick()
		pcall(function()
			VirtualUser:Button1Down(Vector2.new(0,0), workspace.CurrentCamera and workspace.CurrentCamera.CFrame or CFrame.new())
			task.wait(0.03)
			VirtualUser:Button1Up(Vector2.new(0,0), workspace.CurrentCamera and workspace.CurrentCamera.CFrame or CFrame.new())
		end)
	end

	-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πá‡∏ö Remote ‡∏Ç‡∏≠‡∏á Tool
	local function cacheRemotes(tool)
		cachedRemotes = {}
		cachedFunctions = {}
		if not tool then return end
		for _, d in ipairs(tool:GetDescendants()) do
			if d:IsA("RemoteEvent") then table.insert(cachedRemotes,d)
			elseif d:IsA("RemoteFunction") then table.insert(cachedFunctions,d)
			end
		end
	end

	-- Loop ‡πÉ‡∏ä‡πâ Tool ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
	local function useToolLoop()
		while running do
			local tool = player.Character and player.Character:FindFirstChildOfClass("Tool")
			if tool ~= currentTool then
				currentTool = tool
				cacheRemotes(currentTool)
			end
			if tool then
				pcall(function() tool:Activate() end)
				fireMouseClick()
				for _,re in ipairs(cachedRemotes) do pcall(function() re:FireServer() end) end
				for _,rf in ipairs(cachedFunctions) do pcall(function() rf:InvokeServer() end) end
			end
			task.wait(0.2) -- ‡∏õ‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏á‡∏£‡∏±‡∏ß Tool
		end
	end

	-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Auto Tool
	btnAutoTool.MouseButton1Click:Connect(function()
		autoToolOn = not autoToolOn
		btnAutoTool.Text = autoToolOn and "üëä ‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á : ‡πÄ‡∏õ‡∏¥‡∏î" or "üëä ‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á : ‡∏õ‡∏¥‡∏î"
		running = autoToolOn
		if autoToolOn then
			task.spawn(useToolLoop)
		end
	end)
end)
