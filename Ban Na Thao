-- ‡∏™‡∏£‡πâ‡∏≤‡∏á ScreenGui ‡∏´‡∏•‡∏±‡∏Å
local player = game:GetService("Players").LocalPlayer
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CustomGUI"
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á MainFrame ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 350, 0, 300)
mainFrame.Position = UDim2.new(0.5, -175, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Visible = true
mainFrame.Parent = screenGui

-- ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏≤‡∏Å MainFrame ‡πÑ‡∏î‡πâ
local UIS = game:GetService("UserInputService")
local draggingMain, dragInput, dragStart, startPos

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        draggingMain = true
        dragStart = input.Position
        startPos = mainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                draggingMain = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if input == dragInput and draggingMain then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(
            startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y
        )
    end
end)

-- ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á GUI
local toggleGuiButton = Instance.new("TextButton")
toggleGuiButton.Size = UDim2.new(0, 100, 0, 40)
toggleGuiButton.Position = UDim2.new(0, 10, 0, 10)
toggleGuiButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
toggleGuiButton.TextColor3 = Color3.new(1,1,1)
toggleGuiButton.Text = "‡∏ã‡πà‡∏≠‡∏ô GUI"
toggleGuiButton.Parent = screenGui

-- ‡πÉ‡∏´‡πâ‡∏•‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏î‡πâ
local dragging = false
local dragStart2, startPos2
toggleGuiButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart2 = input.Position
        startPos2 = toggleGuiButton.Position
    end
end)

toggleGuiButton.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart2
        toggleGuiButton.Position = UDim2.new(
            startPos2.X.Scale, startPos2.X.Offset + delta.X,
            startPos2.Y.Scale, startPos2.Y.Offset + delta.Y
        )
    end
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

-- ‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á MainFrame
local guiVisible = true
toggleGuiButton.MouseButton1Click:Connect(function()
    guiVisible = not guiVisible
    mainFrame.Visible = guiVisible
    toggleGuiButton.Text = guiVisible and "‡∏ã‡πà‡∏≠‡∏ô GUI" or "‡πÅ‡∏™‡∏î‡∏á GUI"
end)

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Sidebar ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Tab
local sidebar = Instance.new("Frame")
sidebar.Size = UDim2.new(0, 100, 1, 0)
sidebar.Position = UDim2.new(0, 0, 0, 0)
sidebar.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
sidebar.Parent = mainFrame

-- Container ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞ Tab
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -100, 1, 0)
contentFrame.Position = UDim2.new(0, 100, 0, 0)
contentFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
contentFrame.Parent = mainFrame
-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô Sidebar
local function createTabButton(name, order)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0, 40)
    button.Position = UDim2.new(0, 0, 0, (order - 1) * 45 + 10)
    button.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    button.TextColor3 = Color3.new(1,1,1)
    button.Text = name
    button.Parent = sidebar
    return button
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á container ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ó‡πá‡∏ö
local function createTabContent()
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.Position = UDim2.new(0, 0, 0, 0)
    frame.BackgroundTransparency = 1
    frame.Visible = false
    frame.Parent = contentFrame
    return frame
end

-- ‡πÅ‡∏ó‡πá‡∏ö‡∏ß‡∏≤‡∏õ
local warpTab = createTabContent()
-- ‡πÅ‡∏ó‡πá‡∏ö script auto
local autoTab = createTabContent()

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏ö
local function switchTab(tabName)
    warpTab.Visible = false
    autoTab.Visible = false
    if tabName == "‡∏ß‡∏≤‡∏õ" then
        warpTab.Visible = true
    elseif tabName == "Script Auto" then
        autoTab.Visible = true
    end
end

-- ‡∏õ‡∏∏‡πà‡∏° Sidebar
local warpButton = createTabButton("‡∏ß‡∏≤‡∏õ", 1)
warpButton.MouseButton1Click:Connect(function()
    switchTab("‡∏ß‡∏≤‡∏õ")
end)

local autoButton = createTabButton("Script Auto", 2)
autoButton.MouseButton1Click:Connect(function()
    switchTab("Script Auto")
end)

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏ß‡∏≤‡∏õ‡πÉ‡∏ô warpTab
local function createWarpButton(name, position)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 200, 0, 40)
    button.Position = UDim2.new(0, 20, 0, (#warpTab:GetChildren() * 45) + 20)
    button.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    button.TextColor3 = Color3.new(1,1,1)
    button.Text = name
    button.Parent = warpTab

    button.MouseButton1Click:Connect(function()
        local character = player.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            character.HumanoidRootPart.CFrame = CFrame.new(position)
        end
    end)
end

-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏ß‡∏≤‡∏õ
createWarpButton("‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏∑‡∏ô", Vector3.new(495.77, 6.62, 1155.32))
createWarpButton("‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏ï‡∏≥‡∏£‡∏ß‡∏à", Vector3.new(803.28, 13.27, -32.92))
createWarpButton("‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏ñ", Vector3.new(209.14, 6.43, 1176.07))
createWarpButton("‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤", Vector3.new(767.00, 6.55, 174.00))
createWarpButton("‡∏Ç‡∏ô‡∏™‡πà‡∏á", Vector3.new(26.80, 6.37, -193.39))
createWarpButton("‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•", Vector3.new(-187.00, 6.37, 1453.00))
-- ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á (‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
local autoToolButton = Instance.new("TextButton")
autoToolButton.Size = UDim2.new(0, 200, 0, 40)
autoToolButton.Position = UDim2.new(0, 20, 0, 20)
autoToolButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
autoToolButton.TextColor3 = Color3.new(1,1,1)
autoToolButton.Text = "üëä ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á"
autoToolButton.Parent = autoTab

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° AutoTool
local autoToolEnabled = false
local autoToolConnection

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î AutoTool
local function toggleAutoTool()
    autoToolEnabled = not autoToolEnabled
    autoToolButton.Text = autoToolEnabled and "üëä ‡∏õ‡∏¥‡∏î‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á" or "üëä ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á"

    if autoToolEnabled then
        autoToolConnection = game:GetService("RunService").Heartbeat:Connect(function()
            local character = player.Character
            if character and character:FindFirstChild("HumanoidRootPart") then
                for _, other in ipairs(game:GetService("Players"):GetPlayers()) do
                    if other ~= player and other.Character and other.Character:FindFirstChild("HumanoidRootPart") then
                        local distance = (character.HumanoidRootPart.Position - other.Character.HumanoidRootPart.Position).Magnitude
                        if distance <= 8 then -- ‡∏£‡∏∞‡∏¢‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö
                            local tool = player.Backpack:FindFirstChild("Punch") or character:FindFirstChild("Punch")
                            if tool and tool:FindFirstChild("MeleeEvent") then
                                tool.MeleeEvent:FireServer()
                            end
                        end
                    end
                end
            end
        end)
    else
        if autoToolConnection then
            autoToolConnection:Disconnect()
            autoToolConnection = nil
        end
    end
end

-- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î AutoTool
autoToolButton.MouseButton1Click:Connect(toggleAutoTool)

-- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ó‡πá‡∏ö "‡∏ß‡∏≤‡∏õ"
switchTab("‡∏ß‡∏≤‡∏õ")
