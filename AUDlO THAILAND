-- üåë BOOMBOX | TOUx1üéâ v2.1 - BUG FIX EDITION üî• [PART 1/2]
local player = game:GetService("Players").LocalPlayer
local TweenService = game:GetService("TweenService")
local SoundService = game:GetService("SoundService")

local gui = Instance.new("ScreenGui")
gui.Name = "BOOMBOX_TOUx1"  -- ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà!
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.Parent = player:WaitForChild("PlayerGui")

-- üé® Dark Red-Gold Theme
local theme = {
    background = Color3.fromRGB(25, 0, 0),
    accent = Color3.fromRGB(255, 150, 0),
    text = Color3.fromRGB(255, 255, 255),
    danger = Color3.fromRGB(200, 0, 0),
    success = Color3.fromRGB(0, 150, 0)
}

-- üîä Sound Effects
local openSound = Instance.new("Sound", gui)
openSound.SoundId = "rbxassetid://131961136"
openSound.Volume = 0.3
openSound.RollOffMode = Enum.RollOffMode.Linear

local clickSound = Instance.new("Sound", gui)
clickSound.SoundId = "rbxassetid://131961136"
clickSound.Volume = 0.2
clickSound.RollOffMode = Enum.RollOffMode.Linear

-- üéÆ Toggle Button ‡∏™‡∏∏‡∏î‡πÄ‡∏ó‡πà (‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å + ‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ!)
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0, 80, 0, 40)  -- ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ñ‡∏á‡∏ó‡∏µ‡πà!
toggleBtn.Position = UDim2.new(0, 10, 0, 10)  -- ‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô (‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ)
toggleBtn.Text = "üéâ TOUx1"
toggleBtn.BackgroundColor3 = theme.accent
toggleBtn.TextColor3 = theme.text
toggleBtn.TextScaled = true
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.Parent = gui
toggleBtn.Active = true  -- ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏•‡∏≤‡∏Å
toggleBtn.Draggable = true  -- ‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ! üéÆ

local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0, 12)
toggleCorner.Parent = toggleBtn

local toggleStroke = Instance.new("UIStroke")
toggleStroke.Color = Color3.fromRGB(255, 0, 0)
toggleStroke.Thickness = 3
toggleStroke.Transparency = 0.3
toggleStroke.Parent = toggleBtn

-- ‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å: ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏ß‡πâ (‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô)
local originalToggleSize = toggleBtn.Size

-- Pulse Animation (‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î)
local pulseInfo = TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true)
local pulseTween = TweenService:Create(toggleStroke, pulseInfo, {Transparency = 0.7})
pulseTween:Play()

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 400, 0, 350)
frame.Position = UDim2.new(0.5, -200, 0.5, -175)
frame.BackgroundColor3 = theme.background
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Visible = false
frame.BackgroundTransparency = 1
frame.Parent = gui

local frameCorner = Instance.new("UICorner")
frameCorner.CornerRadius = UDim.new(0, 15)
frameCorner.Parent = frame

local frameStroke = Instance.new("UIStroke")
frameStroke.Color = Color3.fromRGB(255, 50, 50)
frameStroke.Thickness = 3
frameStroke.Transparency = 0.4
frameStroke.Parent = frame

-- Gradient Background
local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 0, 0)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(20, 0, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 0, 0))
}
gradient.Rotation = 45
gradient.Parent = frame

-- Title Bar (‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà!)
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 45)
titleBar.Position = UDim2.new(0, 0, 0, 0)
titleBar.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
titleBar.BorderSizePixel = 0
titleBar.Parent = frame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 15)
titleCorner.Parent = titleBar

local titleStroke = Instance.new("UIStroke")
titleStroke.Color = theme.accent
titleStroke.Thickness = 2
titleStroke.Parent = titleBar

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -100, 1, 0)
titleLabel.Position = UDim2.new(0, 15, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "üéâ BOOMBOX | TOUx1 üéâ"  -- ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà!
titleLabel.TextColor3 = theme.accent
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = titleBar

-- Close Button
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 35, 0, 35)
closeBtn.Position = UDim2.new(1, -40, 0, 5)
closeBtn.Text = "‚úñ"
closeBtn.BackgroundColor3 = theme.danger
closeBtn.TextColor3 = theme.text
closeBtn.TextScaled = true
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Parent = titleBar

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(1, 0)
closeCorner.Parent = closeBtn

local closeStroke = Instance.new("UIStroke")
closeStroke.Color = Color3.fromRGB(255, 0, 0)
closeStroke.Thickness = 2
closeStroke.Parent = closeBtn

-- Tab System
local tabs = {"Dupe üíé", "MassPlay üéµ", "Settings ‚öôÔ∏è"}
local tabFrames = {}
local currentTab = 1

local tabContainer = Instance.new("Frame")
tabContainer.Size = UDim2.new(1, -20, 0, 40)
tabContainer.Position = UDim2.new(0, 10, 0, 50)
tabContainer.BackgroundColor3 = Color3.fromRGB(45, 0, 0)
tabContainer.BorderSizePixel = 0
tabContainer.Parent = frame

local tabCorner = Instance.new("UICorner")
tabCorner.CornerRadius = UDim.new(0, 10)
tabCorner.Parent = tabContainer

local tabGradient = Instance.new("UIGradient")
tabGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(60, 0, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(45, 0, 0))
}
tabGradient.Rotation = 90
tabGradient.Parent = tabContainer

local tabLayout = Instance.new("UIListLayout")
tabLayout.FillDirection = Enum.FillDirection.Horizontal
tabLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
tabLayout.Padding = UDim.new(0, 5)
tabLayout.Parent = tabContainer

-- Tab Buttons
for i, name in ipairs(tabs) do
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(1/#tabs * 0.9, 0, 1, 0)
    button.Text = name
    button.BackgroundColor3 = (i == 1) and theme.accent or Color3.fromRGB(70, 0, 0)
    button.TextColor3 = theme.text
    button.TextScaled = true
    button.Font = Enum.Font.GothamBold
    button.BorderSizePixel = 0
    button.Parent = tabContainer

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 8)
    btnCorner.Parent = button

    local btnStroke = Instance.new("UIStroke")
    btnStroke.Color = (i == 1) and theme.accent or Color3.fromRGB(100, 0, 0)
    btnStroke.Thickness = 2
    btnStroke.Parent = button

    button.MouseButton1Click:Connect(function()
        clickSound:Play()
        currentTab = i
        
        for j, tabBtn in ipairs(tabContainer:GetChildren()) do
            if tabBtn:IsA("TextButton") then
                TweenService:Create(tabBtn, TweenInfo.new(0.3), {
                    BackgroundColor3 = (j == i) and theme.accent or Color3.fromRGB(70, 0, 0)
                }):Play()
                tabBtn:FindFirstChild("UIStroke").Color = (j == i) and theme.accent or Color3.fromRGB(100, 0, 0)
            end
        end
        
        for tabName, subFrame in pairs(tabFrames) do
            subFrame.Visible = false
        end
        if tabFrames[name] then
            tabFrames[name].Visible = true
        end
    end)

    button.MouseEnter:Connect(function()
        if i ~= currentTab then
            TweenService:Create(button, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(90, 0, 0)
            }):Play()
        end
    end)

    button.MouseLeave:Connect(function()
        if i ~= currentTab then
            TweenService:Create(button, TweenInfo.new(0.2), {
                BackgroundColor3 = Color3.fromRGB(70, 0, 0)
            }):Play()
        end
    end)
end

-- Content Area
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -20, 1, -100)
contentFrame.Position = UDim2.new(0, 10, 0, 95)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = frame

local contentLayout = Instance.new("UIListLayout")
contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
contentLayout.Padding = UDim.new(0, 10)
contentLayout.Parent = contentFrame

-- Tab Frames
local dupeFrame = Instance.new("ScrollingFrame")
dupeFrame.Name = "Dupe"
dupeFrame.Size = UDim2.new(1, 0, 1, 0)
dupeFrame.BackgroundTransparency = 1
dupeFrame.BorderSizePixel = 0
dupeFrame.ScrollBarThickness = 6
dupeFrame.ScrollBarImageColor3 = theme.accent
dupeFrame.Visible = true
dupeFrame.Parent = contentFrame
tabFrames["Dupe üíé"] = dupeFrame

local massFrame = Instance.new("ScrollingFrame")
massFrame.Name = "MassPlay"
massFrame.Size = UDim2.new(1, 0, 1, 0)
massFrame.BackgroundTransparency = 1
massFrame.BorderSizePixel = 0
massFrame.ScrollBarThickness = 6
massFrame.ScrollBarImageColor3 = theme.accent
massFrame.Visible = false
massFrame.Parent = contentFrame
tabFrames["MassPlay üéµ"] = massFrame

local settingsFrame = Instance.new("Frame")
settingsFrame.Name = "Settings"
settingsFrame.Size = UDim2.new(1, 0, 1, 0)
settingsFrame.BackgroundTransparency = 1
settingsFrame.Visible = false
settingsFrame.Parent = contentFrame
tabFrames["Settings ‚öôÔ∏è"] = settingsFrame

-- [‡∏à‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1/2 - ‡∏£‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2]
print("üìú PART 1/2 - BUG FIX + DRAGGABLE ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‡∏£‡∏≠ PART 2...")
-- üåë BOOMBOX | TOUx1üéâ v2.1 - BUG FIX EDITION üî• [PART 2/2]
-- Content + Logic (‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏∏‡πà‡∏°)

-- ‚ú® Dupe Tab Content
local dupeTitle = Instance.new("TextLabel")
dupeTitle.Size = UDim2.new(1, 0, 0, 30)
dupeTitle.BackgroundTransparency = 1
dupeTitle.Text = "üíé ‡∏î‡∏π‡∏õ‡∏•‡∏≥‡πÇ‡∏û‡∏á"
dupeTitle.TextColor3 = theme.accent
dupeTitle.TextScaled = true
dupeTitle.Font = Enum.Font.GothamBold
dupeTitle.Parent = dupeFrame

local amountBox = Instance.new("TextBox")
amountBox.PlaceholderText = "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Dupe"
amountBox.Size = UDim2.new(1, -20, 0, 40)
amountBox.Position = UDim2.new(0, 10, 0, 40)
amountBox.TextScaled = true
amountBox.Font = Enum.Font.Gotham
amountBox.BackgroundColor3 = theme.background
amountBox.TextColor3 = theme.text
amountBox.BorderSizePixel = 0
amountBox.TextXAlignment = Enum.TextXAlignment.Center
amountBox.Parent = dupeFrame

local amountCorner = Instance.new("UICorner")
amountCorner.CornerRadius = UDim.new(0, 8)
amountCorner.Parent = amountBox

local amountStroke = Instance.new("UIStroke")
amountStroke.Color = theme.accent
amountStroke.Thickness = 2
amountStroke.Parent = amountBox

local dupeButton = Instance.new("TextButton")
dupeButton.Text = "üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏π‡∏õ"
dupeButton.Size = UDim2.new(1, -20, 0, 50)
dupeButton.Position = UDim2.new(0, 10, 0, 90)
dupeButton.TextScaled = true
dupeButton.Font = Enum.Font.GothamBold
dupeButton.BackgroundColor3 = theme.accent
dupeButton.TextColor3 = theme.text
dupeButton.BorderSizePixel = 0
dupeButton.Parent = dupeFrame

local dupeCorner = Instance.new("UICorner")
dupeCorner.CornerRadius = UDim.new(0, 10)
dupeCorner.Parent = dupeButton

local dupeStroke = Instance.new("UIStroke")
dupeStroke.Color = Color3.fromRGB(255, 0, 0)
dupeStroke.Thickness = 3
dupeStroke.Parent = dupeButton

local stealButton = Instance.new("TextButton")
stealButton.Text = "üïµÔ∏è ‡∏´‡∏¢‡∏¥‡∏ö‡∏•‡∏≥‡πÇ‡∏û‡∏á"
stealButton.Size = UDim2.new(0.48, -10, 0, 45)
stealButton.Position = UDim2.new(0, 10, 0, 150)
stealButton.TextScaled = true
stealButton.Font = Enum.Font.GothamBold
stealButton.BackgroundColor3 = theme.danger
stealButton.TextColor3 = theme.text
stealButton.BorderSizePixel = 0
stealButton.Parent = dupeFrame

local stealCorner = Instance.new("UICorner")
stealCorner.CornerRadius = UDim.new(0, 8)
stealCorner.Parent = stealButton

local dropButton = Instance.new("TextButton")
dropButton.Text = "üì¶ ‡∏ó‡∏¥‡πâ‡∏á‡∏•‡∏≥‡πÇ‡∏û‡∏á"
dropButton.Size = UDim2.new(0.48, -10, 0, 45)
dropButton.Position = UDim2.new(0.52, 0, 0, 150)
dropButton.TextScaled = true
dropButton.Font = Enum.Font.GothamBold
dropButton.BackgroundColor3 = theme.danger
dropButton.TextColor3 = theme.text
dropButton.BorderSizePixel = 0
dropButton.Parent = dupeFrame

local dropCorner = Instance.new("UICorner")
dropCorner.CornerRadius = UDim.new(0, 8)
dropCorner.Parent = dropButton

-- üéµ MassPlay Tab Content
local massTitle = Instance.new("TextLabel")
massTitle.Size = UDim2.new(1, 0, 0, 30)
massTitle.BackgroundTransparency = 1
massTitle.Text = "üéµ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á"
massTitle.TextColor3 = theme.accent
massTitle.TextScaled = true
massTitle.Font = Enum.Font.GothamBold
massTitle.Parent = massFrame

local idBox = Instance.new("TextBox")
idBox.PlaceholderText = "‡πÉ‡∏™‡πà Audio ID"
idBox.Size = UDim2.new(1, -20, 0, 40)
idBox.Position = UDim2.new(0, 10, 0, 40)
idBox.TextScaled = true
idBox.Font = Enum.Font.Gotham
idBox.BackgroundColor3 = theme.background
idBox.TextColor3 = theme.text
idBox.BorderSizePixel = 0
idBox.TextXAlignment = Enum.TextXAlignment.Center
idBox.Parent = massFrame

local idCorner = Instance.new("UICorner")
idCorner.CornerRadius = UDim.new(0, 8)
idCorner.Parent = idBox

local idStroke = Instance.new("UIStroke")
idStroke.Color = theme.accent
idStroke.Thickness = 2
idStroke.Parent = idBox

local playButton = Instance.new("TextButton")
playButton.Text = "üé∂ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á"
playButton.Size = UDim2.new(1, -20, 0, 50)
playButton.Position = UDim2.new(0, 10, 0, 90)
playButton.TextScaled = true
playButton.Font = Enum.Font.GothamBold
playButton.BackgroundColor3 = theme.accent
playButton.TextColor3 = theme.text
playButton.BorderSizePixel = 0
playButton.Parent = massFrame

local playCorner = Instance.new("UICorner")
playCorner.CornerRadius = UDim.new(0, 10)
playCorner.Parent = playButton

local playStroke = Instance.new("UIStroke")
playStroke.Color = Color3.fromRGB(255, 0, 0)
playStroke.Thickness = 3
playStroke.Parent = playButton

-- ‚öôÔ∏è Settings Tab
local settingsTitle = Instance.new("TextLabel")
settingsTitle.Size = UDim2.new(1, 0, 0, 30)
settingsTitle.BackgroundTransparency = 1
settingsTitle.Text = "‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤"
settingsTitle.TextColor3 = theme.accent
settingsTitle.TextScaled = true
settingsTitle.Font = Enum.Font.GothamBold
settingsTitle.Parent = settingsFrame

local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, 0, 0, 25)
statusLabel.Position = UDim2.new(0, 0, 0, 40)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "üöÄ Status: Ready"
statusLabel.TextColor3 = theme.success
statusLabel.TextScaled = true
statusLabel.Font = Enum.Font.Gotham
statusLabel.Parent = settingsFrame

-- Particle Effect
local function createParticles(parent)
    local particles = Instance.new("Frame")
    particles.Size = UDim2.new(1, 20, 1, 20)
    particles.Position = UDim2.new(0, -10, 0, -10)
    particles.BackgroundTransparency = 1
    particles.Parent = parent
    
    local particle1 = Instance.new("Frame")
    particle1.Size = UDim2.new(0, 3, 0, 3)
    particle1.BackgroundColor3 = theme.accent
    particle1.BorderSizePixel = 0
    particle1.Parent = particles
    
    local particle2 = Instance.new("Frame")
    particle2.Size = UDim2.new(0, 3, 0, 3)
    particle2.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    particle2.BorderSizePixel = 0
    particle2.Parent = particles
    
    spawn(function()
        while particles.Parent do
            particle1.Position = UDim2.new(math.random(), 0, math.random(), 0)
            particle1.BackgroundTransparency = math.random(0.3, 0.8)
            particle2.Position = UDim2.new(math.random(), 0, math.random(), 0)
            particle2.BackgroundTransparency = math.random(0.4, 0.9)
            task.wait(0.5)
        end
    end)
end

createParticles(frame)

-- Toggle Function (‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î)
local function toggleFrame()
    clickSound:Play()
    if frame.Visible then
        openSound:Play()
        for i = 1, 10 do
            frame.BackgroundTransparency = (i * 0.1)
            task.wait(0.02)
        end
        frame.Visible = false
        toggleBtn.Text = "üéâ TOUx1"  -- ‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î
        toggleBtn.Size = originalToggleSize  -- ‡∏Ñ‡∏∑‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏î‡∏¥‡∏°!
        TweenService:Create(toggleBtn, TweenInfo.new(0.3), {BackgroundColor3 = theme.accent}):Play()
    else
        frame.Visible = true
        frame.BackgroundTransparency = 1
        openSound:Play()
        for i = 1, 10 do
            frame.BackgroundTransparency = 1 - (i * 0.1)
            task.wait(0.02)
        end
        toggleBtn.Text = "‚ùå CLOSE"  -- ‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î
        toggleBtn.Size = originalToggleSize  -- ‡∏Ñ‡∏á‡∏Ç‡∏ô‡∏≤‡∏î!
        TweenService:Create(toggleBtn, TweenInfo.new(0.3), {BackgroundColor3 = theme.danger}):Play()
    end
end

-- Connect Events
toggleBtn.MouseButton1Click:Connect(toggleFrame)

closeBtn.MouseButton1Click:Connect(function()
    clickSound:Play()
    toggleFrame()
end)

-- ‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å Hover Effect (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î!)
local function addSafeHoverEffect(button, hoverColor, normalColor)
    local originalSize = button.Size  -- ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏î‡∏¥‡∏°
    
    button.MouseEnter:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.2), {
            BackgroundColor3 = hoverColor
        }):Play()
    end)
    
    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.2), {
            BackgroundColor3 = normalColor
        }):Play()
    end)
end

-- Apply Safe Hover Effects (‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å!)
addSafeHoverEffect(dupeButton, Color3.fromRGB(255, 200, 0), theme.accent)
addSafeHoverEffect(playButton, Color3.fromRGB(255, 200, 0), theme.accent)
addSafeHoverEffect(stealButton, Color3.fromRGB(255, 50, 50), theme.danger)
addSafeHoverEffect(dropButton, Color3.fromRGB(255, 50, 50), theme.danger)

-- Toggle Button Safe Hover (‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å!)
toggleBtn.MouseEnter:Connect(function()
    TweenService:Create(toggleBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(255, 200, 0)
    }):Play()
end)

toggleBtn.MouseLeave:Connect(function()
    local targetColor = frame.Visible and theme.danger or theme.accent
    TweenService:Create(toggleBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = targetColor
    }):Play()
end)

-- Close Button Safe Hover
closeBtn.MouseEnter:Connect(function()
    TweenService:Create(closeBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    }):Play()
end)

closeBtn.MouseLeave:Connect(function()
    TweenService:Create(closeBtn, TweenInfo.new(0.2), {
        BackgroundColor3 = theme.danger
    }):Play()
end)

-- Dupe Logic (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
dupeButton.MouseButton1Click:Connect(function()
    clickSound:Play()
    local amount = tonumber(amountBox.Text)
    if not amount or amount <= 0 then 
        amountBox.Text = "‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!"
        TweenService:Create(amountBox, TweenInfo.new(0.3), {BackgroundColor3 = theme.danger}):Play()
        task.wait(1)
        TweenService:Create(amountBox, TweenInfo.new(0.3), {BackgroundColor3 = theme.background}):Play()
        amountBox.Text = ""
        return 
    end

    local plr = player
    local character = plr.Character or plr.CharacterAdded:Wait()
    local spawnCFrame = character.HumanoidRootPart.CFrame

    local progress = Instance.new("Frame")
    progress.Size = UDim2.new(0, 0, 0, 5)
    progress.Position = UDim2.new(0, 0, 1, -10)
    progress.BackgroundColor3 = theme.accent
    progress.BorderSizePixel = 0
    progress.Parent = dupeButton

    local progressCorner = Instance.new("UICorner")
    progressCorner.CornerRadius = UDim.new(1, 0)
    progressCorner.Parent = progress

    for i = 1, amount do
        progress.Size = UDim2.new(i/amount, 0, 0, 5)
        statusLabel.Text = ("üöÄ Duping... %d/%d"):format(i, amount)
        
        for _, tool in ipairs(plr.Backpack:GetChildren()) do
            if tool:IsA("Tool") then
                tool.Parent = character
            end
        end

        for _, tool in ipairs(character:GetChildren()) do
            if tool:IsA("Tool") then
                tool.Parent = character
            end
        end

        local dropPos = Vector3.new(-41.58, 587.77, 405.76)
        character:WaitForChild("HumanoidRootPart").CFrame = CFrame.new(dropPos)

        task.wait(0.25)

        for _, tool in ipairs(character:GetChildren()) do
            if tool:IsA("Tool") and tool.Parent ~= workspace then
                tool.Parent = workspace
            end
        end

        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid:TakeDamage(9999)
        else
            character:BreakJoints()
        end

        character = plr.CharacterAdded:Wait()
        repeat task.wait() until character:FindFirstChild("HumanoidRootPart") and character:FindFirstChildOfClass("Humanoid")

        for _, tool in ipairs(plr.Backpack:GetChildren()) do
            if tool:IsA("Tool") then
                tool.Parent = character
            end
        end

        task.wait(0.15)
    end

    local tools = {}
    for _, tool in ipairs(workspace:GetChildren()) do
        if tool:IsA("Tool") and tool:FindFirstChild("Handle") then
            table.insert(tools, tool)
        end
    end

    for _, tool in ipairs(tools) do
        local handle = tool:FindFirstChild("Handle")
        if handle and character:FindFirstChild("HumanoidRootPart") then
            local oldCFrame = character.HumanoidRootPart.CFrame
            character.HumanoidRootPart.CFrame = handle.CFrame + Vector3.new(0, 3, 0)
            task.wait(0.1)
            character.HumanoidRootPart.CFrame = oldCFrame
            task.wait(0.05)
        end
    end

    if character:FindFirstChild("HumanoidRootPart") then
        character.HumanoidRootPart.CFrame = spawnCFrame
    end

    progress:Destroy()
    statusLabel.Text = ("‚úÖ DUPE COMPLETED! (%d tools)"):format(#tools)
    TweenService:Create(dupeButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.success}):Play()
    task.wait(2)
    TweenService:Create(dupeButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.accent}):Play()
end)

-- Steal Logic
stealButton.MouseButton1Click:Connect(function()
    clickSound:Play()
    local char = player.Character or player.CharacterAdded:Wait()

    for _, tool in ipairs(workspace:GetChildren()) do
        if tool:IsA("Tool") and tool:FindFirstChild("Handle") then
            local handle = tool.Handle
            local oldCFrame = char:WaitForChild("HumanoidRootPart").CFrame
            char.HumanoidRootPart.CFrame = handle.CFrame + Vector3.new(0, 2, 0)
            task.wait(0.15)
            char.HumanoidRootPart.CFrame = oldCFrame
            task.wait(0.05)
        end
    end

    for _, tool in ipairs(char:GetChildren()) do
        if tool:IsA("Tool") then
            tool.Parent = workspace
            break
        end
    end
    
    statusLabel.Text = "üïµÔ∏è ‡∏´‡∏¢‡∏¥‡∏ö‡∏•‡∏≥‡πÇ‡∏û‡∏á!"
    TweenService:Create(stealButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.success}):Play()
    task.wait(1)
    TweenService:Create(stealButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.danger}):Play()
end)

-- Drop Logic
dropButton.MouseButton1Click:Connect(function()
    clickSound:Play()
    local char = player.Character or player.CharacterAdded:Wait()

    for _, tool in ipairs(char:GetChildren()) do
        if tool:IsA("Tool") then
            tool.Parent = workspace
            break
        end
    end
    
    statusLabel.Text = "üì¶ ‡∏ó‡∏¥‡πâ‡∏á‡∏•‡∏≥‡πÇ‡∏û‡∏á!"
    TweenService:Create(dropButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.success}):Play()
    task.wait(1)
    TweenService:Create(dropButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.danger}):Play()
end)

-- MassPlay Logic
playButton.MouseButton1Click:Connect(function()
    clickSound:Play()
    local id = tonumber(idBox.Text)
    if not id then 
        idBox.Text = "‡πÉ‡∏™‡πà ID ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!"
        TweenService:Create(idBox, TweenInfo.new(0.3), {BackgroundColor3 = theme.danger}):Play()
        task.wait(1)
        TweenService:Create(idBox, TweenInfo.new(0.3), {BackgroundColor3 = theme.background}):Play()
        idBox.Text = ""
        return 
    end

    for _, tool in pairs(player.Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:FindFirstChildWhichIsA("RemoteEvent", true) then
            tool.Parent = player.Character
        end
    end
    
    for _, tool in pairs(player.Character:GetChildren()) do
        local remote = tool:FindFirstChildWhichIsA("RemoteEvent", true)
        if remote then
            pcall(function()
                remote:FireServer("PlaySong", id)
            end)
        end
    end
    
    statusLabel.Text = ("üé∂ Playing Audio ID: %d"):format(id)
    TweenService:Create(playButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.success}):Play()
    task.wait(2)
    TweenService:Create(playButton, TweenInfo.new(0.3), {BackgroundColor3 = theme.accent}):Play()
end)

-- Input Effects
amountBox.Focused:Connect(function()
    TweenService:Create(amountBox, TweenInfo.new(0.2), {BackgroundColor3 = theme.accent}):Play()
end)

amountBox.FocusLost:Connect(function()
    TweenService:Create(amountBox, TweenInfo.new(0.2), {BackgroundColor3 = theme.background}):Play()
end)

idBox.Focused:Connect(function()
    TweenService:Create(idBox, TweenInfo.new(0.2), {BackgroundColor3 = theme.accent}):Play()
end)

idBox.FocusLost:Connect(function()
    TweenService:Create(idBox, TweenInfo.new(0.2), {BackgroundColor3 = theme.background}):Play()
end)

-- Welcome Message
print("üéâ BOOMBOX | TOUx1üéâ v2.1 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß!")
print("üìú PART 2/2 ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à! GUI ‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å‡πÅ‡∏•‡πâ‡∏ß!")
print("üîß ‡πÅ‡∏Å‡πâ: ‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏°‡πà‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô + ‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ + ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà!")
print("üõ†Ô∏è ‡∏•‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏° TOUx1 ‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ!")
